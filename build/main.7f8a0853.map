{"version":3,"sources":["../node_modules/object-assign/index.js","../../src/internal/util/isFunction.ts","../src/internal/config.ts","../../src/internal/util/hostReportError.ts","../src/internal/Observer.ts","../../src/internal/util/isArray.ts","../../src/internal/util/isObject.ts","../../src/internal/util/UnsubscriptionError.ts","../src/internal/Subscription.ts","../../src/internal/symbol/rxSubscriber.ts","../src/internal/Subscriber.ts","../../src/internal/operators/filter.ts","../node_modules/@sanity/observable/operators/filter.js","../../src/internal/operators/map.ts","../node_modules/@sanity/observable/operators/map.js","../node_modules/is-obj/index.js","../node_modules/deep-assign/index.js","../node_modules/@sanity/client/lib/util/getSelection.js","../node_modules/@sanity/client/lib/validators.js","../node_modules/@sanity/client/lib/data/patch.js","../node_modules/@sanity/client/lib/data/transaction.js","../node_modules/@sanity/client/lib/data/encodeQueryString.js","../../src/internal/util/canReportError.ts","../../src/internal/util/toSubscriber.ts","../../src/internal/symbol/observable.ts","../../src/internal/util/noop.ts","../../src/internal/util/pipe.ts","../src/internal/Observable.ts","../../src/internal/operators/scan.ts","../../src/internal/util/ArgumentOutOfRangeError.ts","../../src/internal/observable/empty.ts","../../src/internal/operators/takeLast.ts","../../src/internal/operators/defaultIfEmpty.ts","../../src/internal/operators/reduce.ts","../node_modules/@sanity/observable/operators/reduce.js","../node_modules/@sanity/observable/lib/SanityObservableMinimal.js","../node_modules/@sanity/observable/minimal.js","../node_modules/eventsource-polyfill/dist/eventsource.js","../node_modules/@sanity/eventsource/browser.js","../node_modules/@sanity/client/lib/util/pick.js","../node_modules/@sanity/client/lib/util/defaults.js","../node_modules/@sanity/generate-help-url/index.js","../node_modules/@sanity/client/lib/util/once.js","../node_modules/@sanity/client/lib/data/listen.js","../node_modules/@sanity/client/lib/data/dataMethods.js","../node_modules/@sanity/client/lib/datasets/datasetsClient.js","../node_modules/@sanity/client/lib/projects/projectsClient.js","../node_modules/@sanity/client/lib/http/queryString.js","../node_modules/@sanity/client/lib/assets/assetsClient.js","../node_modules/@sanity/client/lib/users/usersClient.js","../node_modules/@sanity/client/lib/auth/authClient.js","../node_modules/nano-pubsub/index.js","../../src/util/middlewareReducer.js","../node_modules/requires-port/index.js","../node_modules/querystringify/index.js","../node_modules/url-parse/index.js","../../src/middleware/defaultOptionsProcessor.js","../../src/middleware/defaultOptionsValidator.js","../node_modules/same-origin/url-parser.js","../node_modules/same-origin/index.js","../node_modules/function-bind/implementation.js","../node_modules/function-bind/index.js","../node_modules/object-keys/isArguments.js","../node_modules/object-keys/implementation.js","../node_modules/object-keys/index.js","../node_modules/define-properties/index.js","../node_modules/es-abstract/GetIntrinsic.js","../node_modules/has/src/index.js","../node_modules/es-abstract/helpers/assertRecord.js","../node_modules/es-abstract/helpers/isNaN.js","../node_modules/es-abstract/helpers/isFinite.js","../node_modules/es-abstract/helpers/sign.js","../node_modules/es-abstract/helpers/mod.js","../node_modules/is-callable/index.js","../node_modules/es-to-primitive/helpers/isPrimitive.js","../node_modules/es-to-primitive/es5.js","../node_modules/es-abstract/es5.js","../node_modules/string.prototype.trim/implementation.js","../node_modules/string.prototype.trim/polyfill.js","../node_modules/string.prototype.trim/shim.js","../node_modules/string.prototype.trim/index.js","../node_modules/for-each/index.js","../node_modules/parse-headers/parse-headers.js","../../src/request/browser-request.js","../../src/request/index.js","../src/index.js","../node_modules/get-it/index.js","../../src/util/global.js","../../src/middleware/observable.js","../node_modules/isobject/index.js","../node_modules/is-plain-object/index.js","../../src/middleware/jsonRequest.js","../../src/middleware/jsonResponse.js","../../../src/middleware/progress/browser-progress.js","../../../src/middleware/progress/index.js","../node_modules/make-error/index.js","../node_modules/@sanity/client/lib/http/errors.js","../node_modules/@sanity/client/lib/http/browserMiddleware.js","../node_modules/@sanity/client/lib/http/request.js","../node_modules/@sanity/client/lib/http/requestOptions.js","../node_modules/@sanity/client/lib/config.js","../node_modules/@sanity/client/lib/sanityClient.js","../src/parseSource.js","../src/parseAssetId.js","../src/urlForImage.js","../src/builder.js","../node_modules/@sanity/image-url/index.js","main.js"],"names":["getOwnPropertySymbols","Object","hasOwnProperty","prototype","propIsEnumerable","propertyIsEnumerable","toObject","val","TypeError","shouldUseNative","assign","test1","String","getOwnPropertyNames","test2","i","fromCharCode","order2","map","n","join","test3","split","forEach","letter","keys","err","module","exports","target","source","from","symbols","to","s","arguments","length","key","call","x","type","isObj","require","assignKey","undefined","applyMiddleware","hook","defaultValue","args","middleware","reduce","value","handler","objectAssign","urlParse","isReactNative","navigator","product","has","defaultOptions","timeout","stringifyQueryString","obj","pairs","push","Array","isArray","item","encodeURIComponent","normalizeTimeout","time","connect","socket","delay","Number","isNaN","removeUndefined","options","opts","url","query","method","body","toUpperCase","toString","validUrl","test","Error","toStr","str","isArgs","callee","keysShim","isEnumerable","hasDontEnumBug","hasProtoEnumBug","dontEnums","equalsConstructorPrototype","o","ctor","constructor","excludedKeys","$applicationCache","$console","$external","$frame","$frameElement","$frames","$innerHeight","$innerWidth","$outerHeight","$outerWidth","$pageXOffset","$pageYOffset","$parent","$scrollLeft","$scrollTop","$scrollX","$scrollY","$self","$webkitIndexedDB","$webkitStorageInfo","$window","hasAutomationEqualityBug","window","k","e","equalsConstructorPrototypeIfNotBuggy","object","isObject","isFunction","isArguments","isString","theKeys","skipProto","j","name","skipConstructor","slice","origKeys","originalKeys","shim","hasSymbols","Symbol","concat","origDefineProperty","defineProperty","fn","arePropertyDescriptorsSupported","_","enumerable","supportsDescriptors","predicate","configurable","writable","defineProperties","predicates","props","generator","asyncFn","asyncGen","ThrowTypeError","getOwnPropertyDescriptor","get","iterator","getProto","getPrototypeOf","__proto__","generatorFunction","asyncFunction","asyncGenFunction","asyncGenIterator","TypedArray","Uint8Array","INTRINSICS","ArrayBuffer","entries","values","asyncIterator","Atomics","Boolean","DataView","Date","decodeURI","decodeURIComponent","encodeURI","eval","EvalError","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","isFinite","JSON","parse","Map","Math","valueOf","parseFloat","parseInt","Promise","then","all","reject","resolve","Proxy","RangeError","ReferenceError","Reflect","RegExp","Set","SharedArrayBuffer","SyntaxError","Uint8ClampedArray","Uint16Array","Uint32Array","URIError","WeakMap","WeakSet","allowMissing","bind","GetIntrinsic","$TypeError","$SyntaxError","ES","Desc","Type","allowed","isData","IsAccessor","recordType","argumentName","console","log","a","$isNaN","Infinity","number","modulo","remain","floor","fnToStr","constructorRegex","isES6ClassFn","fnStr","tryFunctionObject","fnClass","genClass","hasToStringTag","toStringTag","strClass","isPrimitive","isCallable","ES5internalSlots","O","actualHint","methods","input","$Object","$String","assertRecord","$isFinite","sign","mod","IsCallable","toPrimitive","ES5","ToPrimitive","ToBoolean","ToNumber","ToInteger","abs","ToInt32","ToUint32","ToUint16","posInt","ToString","ToObject","CheckObjectCoercible","optMessage","SameValue","y","IsPropertyDescriptor","IsAccessorDescriptor","IsDataDescriptor","IsGenericDescriptor","FromPropertyDescriptor","set","ToPropertyDescriptor","Obj","desc","getter","setter","replace","leftWhitespace","rightWhitespace","S","implementation","zeroWidthSpace","trim","define","getPolyfill","polyfill","boundTrim","sameOrigin","parseHeaders","noop","win","XmlHttpRequest","XMLHttpRequest","hasXhr2","XDomainRequest","adapter","context","callback","timers","cors","location","href","injectedResponse","cbTimer","setTimeout","abort","clearTimeout","xhr","isXdr","headers","aborted","loaded","timedOut","onerror","onError","ontimeout","onabort","onprogress","resetTimers","delays","stopTimers","timeoutRequest","readyState","status","onLoad","reduceResponse","statusCode","statusMessage","statusText","response","responseText","getAllResponseHeaders","open","withCredentials","setRequestHeader","rawBody","responseType","request","send","code","error","channels","publish","isNetworkError","pubsub","middlewareReducer","processOptions","validateOptions","httpRequest","channelNames","middlehooks","createRequester","initMiddleware","loadedMiddleware","ware","ongoingRequest","unsubscribe","subscribe","ctx","res","onResponse","reqErr","returnValue","use","newMiddleware","onReturn","clone","global","self","Observable","observer","progress","next","event","complete","isObjectObject","prot","isPlainObject","serializeTypes","isBuffer","pipe","indexOf","stringify","tryParse","message","contentType","shouldDecode","force","Accept","onRequest","evt","upload","handleProgress","stage","percent","lengthComputable","total","parseSource","image","isUrl","asset","_ref","urlToId","_id","crop","hotspot","applyDefaults","parts","result","left","top","bottom","right","height","width","example","parseAssetId","ref","id","dimensionString","format","SPEC_NAME_TO_URL_NAME_MAPPINGS","urlForImage","spec","round","hotSpotVerticalRadius","hotSpotHorizontalRadius","hotSpotCenterX","hotSpotCenterY","rect","focalPoint","ignoreImageParams","fit","specToImageUrl","cdnUrl","baseUrl","filename","projectId","dataset","params","bg","flipHorizontal","flipVertical","mapping","specName","param","desiredAspectRatio","max","validFits","validCrops","ImageUrlBuilder","parent","withOptions","maxWidth","minWidth","maxHeight","minHeight","blur","sharpen","invert","orientation","quality","download","urlBuilder","clientConfig","apiHost","NERDNIGHT","TIMEOUT","slide","document","getElementById","client","SanityClient","useCdn","builder","images","index","timer","displaySlide","src","clearInterval","reload","getDocument","exhibition","setInterval","catch"],"mappings":"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","file":"main.7f8a0853.map","sourceRoot":"../src","sourcesContent":["/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","export function isFunction(x: any): x is Function {\n  return typeof x === 'function';\n}\n","let _enable_super_gross_mode_that_will_cause_bad_things = false;\n\n/**\n * The global configuration object for RxJS, used to configure things\n * like what Promise contructor should used to create Promises\n */\nexport const config = {\n  /**\n   * The promise constructor used by default for methods such as\n   * {@link toPromise} and {@link forEach}\n   */\n  Promise: undefined as PromiseConstructorLike,\n\n  /**\n   * If true, turns on synchronous error rethrowing, which is a deprecated behavior\n   * in v6 and higher. This behavior enables bad patterns like wrapping a subscribe\n   * call in a try/catch block. It also enables producer interference, a nasty bug\n   * where a multicast can be broken for all observers by a downstream consumer with\n   * an unhandled error. DO NOT USE THIS FLAG UNLESS IT'S NEEDED TO BY TIME\n   * FOR MIGRATION REASONS.\n   */\n  set useDeprecatedSynchronousErrorHandling(value: boolean) {\n    if (value) {\n      const error = new Error();\n      console.warn('DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n' + error.stack);\n    } else if (_enable_super_gross_mode_that_will_cause_bad_things) {\n      console.log('RxJS: Back to a better error behavior. Thank you. <3');\n    }\n    _enable_super_gross_mode_that_will_cause_bad_things = value;\n  },\n\n  get useDeprecatedSynchronousErrorHandling() {\n    return _enable_super_gross_mode_that_will_cause_bad_things;\n  },\n};\n","/**\n * Throws an error on another job so that it's picked up by the runtime's\n * uncaught error handling mechanism.\n * @param err the error to throw\n */\nexport function hostReportError(err: any) {\n  setTimeout(() => { throw err; });\n}","import { Observer } from './types';\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\n\nexport const empty: Observer<any> = {\n  closed: true,\n  next(value: any): void { /* noop */},\n  error(err: any): void {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n      throw err;\n    } else {\n      hostReportError(err);\n    }\n  },\n  complete(): void { /*noop*/ }\n};\n","export const isArray = Array.isArray || (<T>(x: any): x is T[] => x && typeof x.length === 'number');\n","export function isObject(x: any): x is Object {\n  return x !== null && typeof x === 'object';\n}\n","export interface UnsubscriptionError extends Error {\n  readonly errors: any[];\n}\n\nexport interface UnsubscriptionErrorCtor {\n  new(errors: any[]): UnsubscriptionError;\n}\n\nfunction UnsubscriptionErrorImpl(this: any, errors: any[]) {\n  Error.call(this);\n  this.message = errors ?\n  `${errors.length} errors occurred during unsubscription:\n${errors.map((err, i) => `${i + 1}) ${err.toString()}`).join('\\n  ')}` : '';\n  this.name = 'UnsubscriptionError';\n  this.errors = errors;\n  return this;\n}\n\nUnsubscriptionErrorImpl.prototype = Object.create(Error.prototype);\n\n/**\n * An error thrown when one or more errors have occurred during the\n * `unsubscribe` of a {@link Subscription}.\n */\nexport const UnsubscriptionError: UnsubscriptionErrorCtor = UnsubscriptionErrorImpl as any;","import { isArray } from './util/isArray';\nimport { isObject } from './util/isObject';\nimport { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nimport { SubscriptionLike, TeardownLogic } from './types';\n\n/**\n * Represents a disposable resource, such as the execution of an Observable. A\n * Subscription has one important method, `unsubscribe`, that takes no argument\n * and just disposes the resource held by the subscription.\n *\n * Additionally, subscriptions may be grouped together through the `add()`\n * method, which will attach a child Subscription to the current Subscription.\n * When a Subscription is unsubscribed, all its children (and its grandchildren)\n * will be unsubscribed as well.\n *\n * @class Subscription\n */\nexport class Subscription implements SubscriptionLike {\n  /** @nocollapse */\n  public static EMPTY: Subscription = (function(empty: any) {\n    empty.closed = true;\n    return empty;\n  }(new Subscription()));\n\n  /**\n   * A flag to indicate whether this Subscription has already been unsubscribed.\n   * @type {boolean}\n   */\n  public closed: boolean = false;\n\n  /** @internal */\n  protected _parent: Subscription = null;\n  /** @internal */\n  protected _parents: Subscription[] = null;\n  /** @internal */\n  private _subscriptions: SubscriptionLike[] = null;\n\n  /**\n   * @param {function(): void} [unsubscribe] A function describing how to\n   * perform the disposal of resources when the `unsubscribe` method is called.\n   */\n  constructor(unsubscribe?: () => void) {\n    if (unsubscribe) {\n      (<any> this)._unsubscribe = unsubscribe;\n    }\n  }\n\n  /**\n   * Disposes the resources held by the subscription. May, for instance, cancel\n   * an ongoing Observable execution or cancel any other type of work that\n   * started when the Subscription was created.\n   * @return {void}\n   */\n  unsubscribe(): void {\n    let hasErrors = false;\n    let errors: any[];\n\n    if (this.closed) {\n      return;\n    }\n\n    let { _parent, _parents, _unsubscribe, _subscriptions } = (<any> this);\n\n    this.closed = true;\n    this._parent = null;\n    this._parents = null;\n    // null out _subscriptions first so any child subscriptions that attempt\n    // to remove themselves from this subscription will noop\n    this._subscriptions = null;\n\n    let index = -1;\n    let len = _parents ? _parents.length : 0;\n\n    // if this._parent is null, then so is this._parents, and we\n    // don't have to remove ourselves from any parent subscriptions.\n    while (_parent) {\n      _parent.remove(this);\n      // if this._parents is null or index >= len,\n      // then _parent is set to null, and the loop exits\n      _parent = ++index < len && _parents[index] || null;\n    }\n\n    if (isFunction(_unsubscribe)) {\n      try {\n        _unsubscribe.call(this);\n      } catch (e) {\n        hasErrors = true;\n        errors = e instanceof UnsubscriptionError ? flattenUnsubscriptionErrors(e.errors) : [e];\n      }\n    }\n\n    if (isArray(_subscriptions)) {\n\n      index = -1;\n      len = _subscriptions.length;\n\n      while (++index < len) {\n        const sub = _subscriptions[index];\n        if (isObject(sub)) {\n          try {\n            sub.unsubscribe();\n          } catch (e) {\n            hasErrors = true;\n            errors = errors || [];\n            if (e instanceof UnsubscriptionError) {\n              errors = errors.concat(flattenUnsubscriptionErrors(e.errors));\n            } else {\n              errors.push(e);\n            }\n          }\n        }\n      }\n    }\n\n    if (hasErrors) {\n      throw new UnsubscriptionError(errors);\n    }\n  }\n\n  /**\n   * Adds a tear down to be called during the unsubscribe() of this\n   * Subscription. Can also be used to add a child subscription.\n   *\n   * If the tear down being added is a subscription that is already\n   * unsubscribed, is the same reference `add` is being called on, or is\n   * `Subscription.EMPTY`, it will not be added.\n   *\n   * If this subscription is already in an `closed` state, the passed\n   * tear down logic will be executed immediately.\n   *\n   * When a parent subscription is unsubscribed, any child subscriptions that were added to it are also unsubscribed.\n   *\n   * @param {TeardownLogic} teardown The additional logic to execute on\n   * teardown.\n   * @return {Subscription} Returns the Subscription used or created to be\n   * added to the inner subscriptions list. This Subscription can be used with\n   * `remove()` to remove the passed teardown logic from the inner subscriptions\n   * list.\n   */\n  add(teardown: TeardownLogic): Subscription {\n    let subscription = (<Subscription>teardown);\n    switch (typeof teardown) {\n      case 'function':\n        subscription = new Subscription(<(() => void)>teardown);\n      case 'object':\n        if (subscription === this || subscription.closed || typeof subscription.unsubscribe !== 'function') {\n          // This also covers the case where `subscription` is `Subscription.EMPTY`, which is always in `closed` state.\n          return subscription;\n        } else if (this.closed) {\n          subscription.unsubscribe();\n          return subscription;\n        } else if (!(subscription instanceof Subscription)) {\n          const tmp = subscription;\n          subscription = new Subscription();\n          subscription._subscriptions = [tmp];\n        }\n        break;\n      default: {\n        if (!(<any>teardown)) {\n          return Subscription.EMPTY;\n        }\n        throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n      }\n    }\n\n    if (subscription._addParent(this)) {\n      // Optimize for the common case when adding the first subscription.\n      const subscriptions = this._subscriptions;\n      if (subscriptions) {\n        subscriptions.push(subscription);\n      } else {\n        this._subscriptions = [subscription];\n      }\n    }\n\n    return subscription;\n  }\n\n  /**\n   * Removes a Subscription from the internal list of subscriptions that will\n   * unsubscribe during the unsubscribe process of this Subscription.\n   * @param {Subscription} subscription The subscription to remove.\n   * @return {void}\n   */\n  remove(subscription: Subscription): void {\n    const subscriptions = this._subscriptions;\n    if (subscriptions) {\n      const subscriptionIndex = subscriptions.indexOf(subscription);\n      if (subscriptionIndex !== -1) {\n        subscriptions.splice(subscriptionIndex, 1);\n      }\n    }\n  }\n\n  /** @internal */\n  private _addParent(parent: Subscription): boolean {\n    let { _parent, _parents } = this;\n    if (_parent === parent) {\n      // If the new parent is the same as the current parent, then do nothing.\n      return false;\n    } else if (!_parent) {\n      // If we don't have a parent, then set this._parent to the new parent.\n      this._parent = parent;\n      return true;\n    } else if (!_parents) {\n      // If there's already one parent, but not multiple, allocate an Array to\n      // store the rest of the parent Subscriptions.\n      this._parents = [parent];\n      return true;\n    } else if (_parents.indexOf(parent) === -1) {\n      // Only add the new parent to the _parents list if it's not already there.\n      _parents.push(parent);\n      return true;\n    }\n    return false;\n  }\n}\n\nfunction flattenUnsubscriptionErrors(errors: any[]) {\n return errors.reduce((errs, err) => errs.concat((err instanceof UnsubscriptionError) ? err.errors : err), []);\n}\n","/** @deprecated do not use, this is no longer checked by RxJS internals */\nexport const rxSubscriber =\n  typeof Symbol === 'function'\n    ? Symbol('rxSubscriber')\n    : '@@rxSubscriber_' + Math.random();\n\n/**\n * @deprecated use rxSubscriber instead\n */\nexport const $$rxSubscriber = rxSubscriber;\n","import { isFunction } from './util/isFunction';\nimport { empty as emptyObserver } from './Observer';\nimport { Observer, PartialObserver, TeardownLogic } from './types';\nimport { Subscription } from './Subscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\n\n/**\n * Implements the {@link Observer} interface and extends the\n * {@link Subscription} class. While the {@link Observer} is the public API for\n * consuming the values of an {@link Observable}, all Observers get converted to\n * a Subscriber, in order to provide Subscription-like capabilities such as\n * `unsubscribe`. Subscriber is a common type in RxJS, and crucial for\n * implementing operators, but it is rarely used as a public API.\n *\n * @class Subscriber<T>\n */\nexport class Subscriber<T> extends Subscription implements Observer<T> {\n\n  [rxSubscriberSymbol]() { return this; }\n\n  /**\n   * A static factory for a Subscriber, given a (potentially partial) definition\n   * of an Observer.\n   * @param {function(x: ?T): void} [next] The `next` callback of an Observer.\n   * @param {function(e: ?any): void} [error] The `error` callback of an\n   * Observer.\n   * @param {function(): void} [complete] The `complete` callback of an\n   * Observer.\n   * @return {Subscriber<T>} A Subscriber wrapping the (partially defined)\n   * Observer represented by the given arguments.\n   * @nocollapse\n   */\n  static create<T>(next?: (x?: T) => void,\n                   error?: (e?: any) => void,\n                   complete?: () => void): Subscriber<T> {\n    const subscriber = new Subscriber(next, error, complete);\n    subscriber.syncErrorThrowable = false;\n    return subscriber;\n  }\n\n  /** @internal */ syncErrorValue: any = null;\n  /** @internal */ syncErrorThrown: boolean = false;\n  /** @internal */ syncErrorThrowable: boolean = false;\n\n  protected isStopped: boolean = false;\n  protected destination: PartialObserver<any> | Subscriber<any>; // this `any` is the escape hatch to erase extra type param (e.g. R)\n\n  /**\n   * @param {Observer|function(value: T): void} [destinationOrNext] A partially\n   * defined Observer or a `next` callback function.\n   * @param {function(e: ?any): void} [error] The `error` callback of an\n   * Observer.\n   * @param {function(): void} [complete] The `complete` callback of an\n   * Observer.\n   */\n  constructor(destinationOrNext?: PartialObserver<any> | ((value: T) => void),\n              error?: (e?: any) => void,\n              complete?: () => void) {\n    super();\n\n    switch (arguments.length) {\n      case 0:\n        this.destination = emptyObserver;\n        break;\n      case 1:\n        if (!destinationOrNext) {\n          this.destination = emptyObserver;\n          break;\n        }\n        if (typeof destinationOrNext === 'object') {\n          if (destinationOrNext instanceof Subscriber) {\n            this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n            this.destination = destinationOrNext;\n            destinationOrNext.add(this);\n          } else {\n            this.syncErrorThrowable = true;\n            this.destination = new SafeSubscriber<T>(this, <PartialObserver<any>> destinationOrNext);\n          }\n          break;\n        }\n      default:\n        this.syncErrorThrowable = true;\n        this.destination = new SafeSubscriber<T>(this, <((value: T) => void)> destinationOrNext, error, complete);\n        break;\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive notifications of type `next` from\n   * the Observable, with a value. The Observable may call this method 0 or more\n   * times.\n   * @param {T} [value] The `next` value.\n   * @return {void}\n   */\n  next(value?: T): void {\n    if (!this.isStopped) {\n      this._next(value);\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive notifications of type `error` from\n   * the Observable, with an attached `Error`. Notifies the Observer that\n   * the Observable has experienced an error condition.\n   * @param {any} [err] The `error` exception.\n   * @return {void}\n   */\n  error(err?: any): void {\n    if (!this.isStopped) {\n      this.isStopped = true;\n      this._error(err);\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive a valueless notification of type\n   * `complete` from the Observable. Notifies the Observer that the Observable\n   * has finished sending push-based notifications.\n   * @return {void}\n   */\n  complete(): void {\n    if (!this.isStopped) {\n      this.isStopped = true;\n      this._complete();\n    }\n  }\n\n  unsubscribe(): void {\n    if (this.closed) {\n      return;\n    }\n    this.isStopped = true;\n    super.unsubscribe();\n  }\n\n  protected _next(value: T): void {\n    this.destination.next(value);\n  }\n\n  protected _error(err: any): void {\n    this.destination.error(err);\n    this.unsubscribe();\n  }\n\n  protected _complete(): void {\n    this.destination.complete();\n    this.unsubscribe();\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _unsubscribeAndRecycle(): Subscriber<T> {\n    const { _parent, _parents } = this;\n    this._parent = null;\n    this._parents = null;\n    this.unsubscribe();\n    this.closed = false;\n    this.isStopped = false;\n    this._parent = _parent;\n    this._parents = _parents;\n    return this;\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class SafeSubscriber<T> extends Subscriber<T> {\n\n  private _context: any;\n\n  constructor(private _parentSubscriber: Subscriber<T>,\n              observerOrNext?: PartialObserver<T> | ((value: T) => void),\n              error?: (e?: any) => void,\n              complete?: () => void) {\n    super();\n\n    let next: ((value: T) => void);\n    let context: any = this;\n\n    if (isFunction(observerOrNext)) {\n      next = (<((value: T) => void)> observerOrNext);\n    } else if (observerOrNext) {\n      next = (<PartialObserver<T>> observerOrNext).next;\n      error = (<PartialObserver<T>> observerOrNext).error;\n      complete = (<PartialObserver<T>> observerOrNext).complete;\n      if (observerOrNext !== emptyObserver) {\n        context = Object.create(observerOrNext);\n        if (isFunction(context.unsubscribe)) {\n          this.add(<() => void> context.unsubscribe.bind(context));\n        }\n        context.unsubscribe = this.unsubscribe.bind(this);\n      }\n    }\n\n    this._context = context;\n    this._next = next;\n    this._error = error;\n    this._complete = complete;\n  }\n\n  next(value?: T): void {\n    if (!this.isStopped && this._next) {\n      const { _parentSubscriber } = this;\n      if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n        this.__tryOrUnsub(this._next, value);\n      } else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n        this.unsubscribe();\n      }\n    }\n  }\n\n  error(err?: any): void {\n    if (!this.isStopped) {\n      const { _parentSubscriber } = this;\n      const { useDeprecatedSynchronousErrorHandling } = config;\n      if (this._error) {\n        if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n          this.__tryOrUnsub(this._error, err);\n          this.unsubscribe();\n        } else {\n          this.__tryOrSetError(_parentSubscriber, this._error, err);\n          this.unsubscribe();\n        }\n      } else if (!_parentSubscriber.syncErrorThrowable) {\n        this.unsubscribe();\n        if (useDeprecatedSynchronousErrorHandling) {\n          throw err;\n        }\n        hostReportError(err);\n      } else {\n        if (useDeprecatedSynchronousErrorHandling) {\n          _parentSubscriber.syncErrorValue = err;\n          _parentSubscriber.syncErrorThrown = true;\n        } else {\n          hostReportError(err);\n        }\n        this.unsubscribe();\n      }\n    }\n  }\n\n  complete(): void {\n    if (!this.isStopped) {\n      const { _parentSubscriber } = this;\n      if (this._complete) {\n        const wrappedComplete = () => this._complete.call(this._context);\n\n        if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n          this.__tryOrUnsub(wrappedComplete);\n          this.unsubscribe();\n        } else {\n          this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n          this.unsubscribe();\n        }\n      } else {\n        this.unsubscribe();\n      }\n    }\n  }\n\n  private __tryOrUnsub(fn: Function, value?: any): void {\n    try {\n      fn.call(this._context, value);\n    } catch (err) {\n      this.unsubscribe();\n      if (config.useDeprecatedSynchronousErrorHandling) {\n        throw err;\n      } else {\n        hostReportError(err);\n      }\n    }\n  }\n\n  private __tryOrSetError(parent: Subscriber<T>, fn: Function, value?: any): boolean {\n    if (!config.useDeprecatedSynchronousErrorHandling) {\n      throw new Error('bad call');\n    }\n    try {\n      fn.call(this._context, value);\n    } catch (err) {\n      if (config.useDeprecatedSynchronousErrorHandling) {\n        parent.syncErrorValue = err;\n        parent.syncErrorThrown = true;\n        return true;\n      } else {\n        hostReportError(err);\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /** @internal This is an internal implementation detail, do not use. */\n  _unsubscribe(): void {\n    const { _parentSubscriber } = this;\n    this._context = null;\n    this._parentSubscriber = null;\n    _parentSubscriber.unsubscribe();\n  }\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { OperatorFunction, MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function filter<T, S extends T>(predicate: (value: T, index: number) => value is S,\n                                       thisArg?: any): OperatorFunction<T, S>;\nexport function filter<T>(predicate: (value: T, index: number) => boolean,\n                          thisArg?: any): MonoTypeOperatorFunction<T>;\n/* tslint:enable:max-line-length */\n\n/**\n * Filter items emitted by the source Observable by only emitting those that\n * satisfy a specified predicate.\n *\n * <span class=\"informal\">Like\n * [Array.prototype.filter()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter),\n * it only emits a value from the source if it passes a criterion function.</span>\n *\n * ![](filter.png)\n *\n * Similar to the well-known `Array.prototype.filter` method, this operator\n * takes values from the source Observable, passes them through a `predicate`\n * function and only emits those values that yielded `true`.\n *\n * ## Example\n * Emit only click events whose target was a DIV element\n * ```javascript\n * import { fromEvent } from 'rxjs';\n * import { filter } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const clicksOnDivs = clicks.pipe(filter(ev => ev.target.tagName === 'DIV'));\n * clicksOnDivs.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link distinct}\n * @see {@link distinctUntilChanged}\n * @see {@link distinctUntilKeyChanged}\n * @see {@link ignoreElements}\n * @see {@link partition}\n * @see {@link skip}\n *\n * @param {function(value: T, index: number): boolean} predicate A function that\n * evaluates each value emitted by the source Observable. If it returns `true`,\n * the value is emitted, if `false` the value is not passed to the output\n * Observable. The `index` parameter is the number `i` for the i-th source\n * emission that has happened since the subscription, starting from the number\n * `0`.\n * @param {any} [thisArg] An optional argument to determine the value of `this`\n * in the `predicate` function.\n * @return {Observable} An Observable of values from the source that were\n * allowed by the `predicate` function.\n * @method filter\n * @owner Observable\n */\nexport function filter<T>(predicate: (value: T, index: number) => boolean,\n                          thisArg?: any): MonoTypeOperatorFunction<T> {\n  return function filterOperatorFunction(source: Observable<T>): Observable<T> {\n    return source.lift(new FilterOperator(predicate, thisArg));\n  };\n}\n\nclass FilterOperator<T> implements Operator<T, T> {\n  constructor(private predicate: (value: T, index: number) => boolean,\n              private thisArg?: any) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new FilterSubscriber(subscriber, this.predicate, this.thisArg));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass FilterSubscriber<T> extends Subscriber<T> {\n\n  count: number = 0;\n\n  constructor(destination: Subscriber<T>,\n              private predicate: (value: T, index: number) => boolean,\n              private thisArg: any) {\n    super(destination);\n  }\n\n  // the try catch block below is left specifically for\n  // optimization and perf reasons. a tryCatcher is not necessary here.\n  protected _next(value: T) {\n    let result: any;\n    try {\n      result = this.predicate.call(this.thisArg, value, this.count++);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    if (result) {\n      this.destination.next(value);\n    }\n  }\n}\n","exports.filter = require('rxjs/internal/operators/filter').filter\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { OperatorFunction } from '../types';\n\n/**\n * Applies a given `project` function to each value emitted by the source\n * Observable, and emits the resulting values as an Observable.\n *\n * <span class=\"informal\">Like [Array.prototype.map()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map),\n * it passes each source value through a transformation function to get\n * corresponding output values.</span>\n *\n * ![](map.png)\n *\n * Similar to the well known `Array.prototype.map` function, this operator\n * applies a projection to each value and emits that projection in the output\n * Observable.\n *\n * ## Example\n * Map every click to the clientX position of that click\n * ```javascript\n * import { fromEvent } from 'rxjs';\n * import { map } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const positions = clicks.pipe(map(ev => ev.clientX));\n * positions.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link mapTo}\n * @see {@link pluck}\n *\n * @param {function(value: T, index: number): R} project The function to apply\n * to each `value` emitted by the source Observable. The `index` parameter is\n * the number `i` for the i-th emission that has happened since the\n * subscription, starting from the number `0`.\n * @param {any} [thisArg] An optional argument to define what `this` is in the\n * `project` function.\n * @return {Observable<R>} An Observable that emits the values from the source\n * Observable transformed by the given `project` function.\n * @method map\n * @owner Observable\n */\nexport function map<T, R>(project: (value: T, index: number) => R, thisArg?: any): OperatorFunction<T, R> {\n  return function mapOperation(source: Observable<T>): Observable<R> {\n    if (typeof project !== 'function') {\n      throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');\n    }\n    return source.lift(new MapOperator(project, thisArg));\n  };\n}\n\nexport class MapOperator<T, R> implements Operator<T, R> {\n  constructor(private project: (value: T, index: number) => R, private thisArg: any) {\n  }\n\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass MapSubscriber<T, R> extends Subscriber<T> {\n  count: number = 0;\n  private thisArg: any;\n\n  constructor(destination: Subscriber<R>,\n              private project: (value: T, index: number) => R,\n              thisArg: any) {\n    super(destination);\n    this.thisArg = thisArg || this;\n  }\n\n  // NOTE: This looks unoptimized, but it's actually purposefully NOT\n  // using try/catch optimizations.\n  protected _next(value: T) {\n    let result: any;\n    try {\n      result = this.project.call(this.thisArg, value, this.count++);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    this.destination.next(result);\n  }\n}\n","exports.map = require('rxjs/internal/operators/map').map\n","'use strict';\nmodule.exports = function (x) {\n\tvar type = typeof x;\n\treturn x !== null && (type === 'object' || type === 'function');\n};\n","'use strict';\nvar isObj = require('is-obj');\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Sources cannot be null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction assignKey(to, from, key) {\n\tvar val = from[key];\n\n\tif (val === undefined || val === null) {\n\t\treturn;\n\t}\n\n\tif (hasOwnProperty.call(to, key)) {\n\t\tif (to[key] === undefined || to[key] === null) {\n\t\t\tthrow new TypeError('Cannot convert undefined or null to object (' + key + ')');\n\t\t}\n\t}\n\n\tif (!hasOwnProperty.call(to, key) || !isObj(val)) {\n\t\tto[key] = val;\n\t} else {\n\t\tto[key] = assign(Object(to[key]), from[key]);\n\t}\n}\n\nfunction assign(to, from) {\n\tif (to === from) {\n\t\treturn to;\n\t}\n\n\tfrom = Object(from);\n\n\tfor (var key in from) {\n\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\tassignKey(to, from, key);\n\t\t}\n\t}\n\n\tif (Object.getOwnPropertySymbols) {\n\t\tvar symbols = Object.getOwnPropertySymbols(from);\n\n\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\tassignKey(to, from, symbols[i]);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n}\n\nmodule.exports = function deepAssign(target) {\n\ttarget = toObject(target);\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tassign(target, arguments[s]);\n\t}\n\n\treturn target;\n};\n","\"use strict\";\n\nmodule.exports = function getSelection(sel) {\n  if (typeof sel === 'string' || Array.isArray(sel)) {\n    return {\n      id: sel\n    };\n  }\n\n  if (sel && sel.query) {\n    return {\n      query: sel.query\n    };\n  }\n\n  var selectionOpts = ['* Document ID (<docId>)', '* Array of document IDs', '* Object containing `query`'].join('\\n');\n  throw new Error(\"Unknown selection - must be one of:\\n\\n\".concat(selectionOpts));\n};","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar VALID_ASSET_TYPES = ['image', 'file'];\nvar VALID_INSERT_LOCATIONS = ['before', 'after', 'replace'];\n\nexports.dataset = function (name) {\n  if (!/^[-\\w]{1,128}$/.test(name)) {\n    throw new Error('Datasets can only contain lowercase characters, numbers, underscores and dashes');\n  }\n};\n\nexports.projectId = function (id) {\n  if (!/^[-a-z0-9]+$/i.test(id)) {\n    throw new Error('`projectId` can only contain only a-z, 0-9 and dashes');\n  }\n};\n\nexports.validateAssetType = function (type) {\n  if (VALID_ASSET_TYPES.indexOf(type) === -1) {\n    throw new Error(\"Invalid asset type: \".concat(type, \". Must be one of \").concat(VALID_ASSET_TYPES.join(', ')));\n  }\n};\n\nexports.validateObject = function (op, val) {\n  if (val === null || _typeof(val) !== 'object' || Array.isArray(val)) {\n    throw new Error(\"\".concat(op, \"() takes an object of properties\"));\n  }\n};\n\nexports.requireDocumentId = function (op, doc) {\n  if (!doc._id) {\n    throw new Error(\"\".concat(op, \"() requires that the document contains an ID (\\\"_id\\\" property)\"));\n  }\n\n  exports.validateDocumentId(op, doc._id);\n};\n\nexports.validateDocumentId = function (op, id) {\n  if (typeof id !== 'string' || !/^[a-z0-9_.-]+$/i.test(id)) {\n    throw new Error(\"\".concat(op, \"(): \\\"\").concat(id, \"\\\" is not a valid document ID\"));\n  }\n};\n\nexports.validateInsert = function (at, selector, items) {\n  var signature = 'insert(at, selector, items)';\n\n  if (VALID_INSERT_LOCATIONS.indexOf(at) === -1) {\n    var valid = VALID_INSERT_LOCATIONS.map(function (loc) {\n      return \"\\\"\".concat(loc, \"\\\"\");\n    }).join(', ');\n    throw new Error(\"\".concat(signature, \" takes an \\\"at\\\"-argument which is one of: \").concat(valid));\n  }\n\n  if (typeof selector !== 'string') {\n    throw new Error(\"\".concat(signature, \" takes a \\\"selector\\\"-argument which must be a string\"));\n  }\n\n  if (!Array.isArray(items)) {\n    throw new Error(\"\".concat(signature, \" takes an \\\"items\\\"-argument which must be an array\"));\n  }\n};\n\nexports.hasDataset = function (config) {\n  if (!config.gradientMode && !config.dataset) {\n    throw new Error('`dataset` must be provided to perform queries');\n  }\n\n  return config.dataset || '';\n};","\"use strict\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar deepAssign = require('deep-assign');\n\nvar assign = require('object-assign');\n\nvar getSelection = require('../util/getSelection');\n\nvar validate = require('../validators');\n\nvar validateObject = validate.validateObject;\nvar validateInsert = validate.validateInsert;\n\nfunction Patch(selection) {\n  var operations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var client = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  this.selection = selection;\n  this.operations = assign({}, operations);\n  this.client = client;\n}\n\nassign(Patch.prototype, {\n  clone: function clone() {\n    return new Patch(this.selection, assign({}, this.operations), this.client);\n  },\n  merge: function merge(props) {\n    validateObject('merge', props);\n    var stack = new Error().stack.toString().split('\\n').filter(function (str) {\n      return str.trim();\n    }).slice(2);\n    console.warn(\"The \\\"merge\\\" patch has been deprecated and will be removed in the future\\n\".concat(stack.join('\\n')));\n    return this._assign('merge', deepAssign(this.operations.merge || {}, props));\n  },\n  set: function set(props) {\n    return this._assign('set', props);\n  },\n  diffMatchPatch: function diffMatchPatch(props) {\n    validateObject('diffMatchPatch', props);\n    return this._assign('diffMatchPatch', props);\n  },\n  unset: function unset(attrs) {\n    if (!Array.isArray(attrs)) {\n      throw new Error('unset(attrs) takes an array of attributes to unset, non-array given');\n    }\n\n    this.operations = assign({}, this.operations, {\n      unset: attrs\n    });\n    return this;\n  },\n  setIfMissing: function setIfMissing(props) {\n    return this._assign('setIfMissing', props);\n  },\n  replace: function replace(props) {\n    validateObject('replace', props);\n    return this._set('set', {\n      $: props\n    }); // eslint-disable-line id-length\n  },\n  inc: function inc(props) {\n    return this._assign('inc', props);\n  },\n  dec: function dec(props) {\n    return this._assign('dec', props);\n  },\n  insert: function insert(at, selector, items) {\n    var _this$_assign;\n\n    validateInsert(at, selector, items);\n    return this._assign('insert', (_this$_assign = {}, _defineProperty(_this$_assign, at, selector), _defineProperty(_this$_assign, \"items\", items), _this$_assign));\n  },\n  append: function append(selector, items) {\n    return this.insert('after', \"\".concat(selector, \"[-1]\"), items);\n  },\n  prepend: function prepend(selector, items) {\n    return this.insert('before', \"\".concat(selector, \"[0]\"), items);\n  },\n  splice: function splice(selector, start, deleteCount, items) {\n    // Negative indexes doesn't mean the same in Sanity as they do in JS;\n    // -1 means \"actually at the end of the array\", which allows inserting\n    // at the end of the array without knowing its length. We therefore have\n    // to substract negative indexes by one to match JS. If you want Sanity-\n    // behaviour, just use `insert('replace', selector, items)` directly\n    var delAll = typeof deleteCount === 'undefined' || deleteCount === -1;\n    var startIndex = start < 0 ? start - 1 : start;\n    var delCount = delAll ? -1 : Math.max(0, start + deleteCount);\n    var delRange = startIndex < 0 && delCount >= 0 ? '' : delCount;\n    var rangeSelector = \"\".concat(selector, \"[\").concat(startIndex, \":\").concat(delRange, \"]\");\n    return this.insert('replace', rangeSelector, items || []);\n  },\n  ifRevisionId: function ifRevisionId(rev) {\n    this.operations.ifRevisionID = rev;\n    return this;\n  },\n  serialize: function serialize() {\n    return assign(getSelection(this.selection), this.operations);\n  },\n  toJSON: function toJSON() {\n    return this.serialize();\n  },\n  commit: function commit() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (!this.client) {\n      throw new Error('No `client` passed to patch, either provide one or pass the ' + 'patch to a clients `mutate()` method');\n    }\n\n    var returnFirst = typeof this.selection === 'string';\n    var opts = assign({\n      returnFirst: returnFirst,\n      returnDocuments: true\n    }, options);\n    return this.client.mutate({\n      patch: this.serialize()\n    }, opts);\n  },\n  reset: function reset() {\n    this.operations = {};\n    return this;\n  },\n  _set: function _set(op, props) {\n    return this._assign(op, props, false);\n  },\n  _assign: function _assign(op, props) {\n    var merge = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    validateObject(op, props);\n    this.operations = assign({}, this.operations, _defineProperty({}, op, assign({}, merge && this.operations[op] || {}, props)));\n    return this;\n  }\n});\nmodule.exports = Patch;","\"use strict\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar assign = require('object-assign');\n\nvar validators = require('../validators');\n\nvar Patch = require('./patch');\n\nvar defaultMutateOptions = {\n  returnDocuments: false\n};\n\nfunction Transaction() {\n  var operations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var client = arguments.length > 1 ? arguments[1] : undefined;\n  var transactionId = arguments.length > 2 ? arguments[2] : undefined;\n  this.trxId = transactionId;\n  this.operations = operations;\n  this.client = client;\n}\n\nassign(Transaction.prototype, {\n  clone: function clone() {\n    return new Transaction(this.operations.slice(0), this.client, this.trxId);\n  },\n  create: function create(doc) {\n    validators.validateObject('create', doc);\n    return this._add({\n      create: doc\n    });\n  },\n  createIfNotExists: function createIfNotExists(doc) {\n    var op = 'createIfNotExists';\n    validators.validateObject(op, doc);\n    validators.requireDocumentId(op, doc);\n    return this._add(_defineProperty({}, op, doc));\n  },\n  createOrReplace: function createOrReplace(doc) {\n    var op = 'createOrReplace';\n    validators.validateObject(op, doc);\n    validators.requireDocumentId(op, doc);\n    return this._add(_defineProperty({}, op, doc));\n  },\n  delete: function _delete(documentId) {\n    validators.validateDocumentId('delete', documentId);\n    return this._add({\n      delete: {\n        id: documentId\n      }\n    });\n  },\n  patch: function patch(documentId, patchOps) {\n    var isBuilder = typeof patchOps === 'function';\n    var isPatch = documentId instanceof Patch; // transaction.patch(client.patch('documentId').inc({visits: 1}))\n\n    if (isPatch) {\n      return this._add({\n        patch: documentId.serialize()\n      });\n    } // patch => patch.inc({visits: 1}).set({foo: 'bar'})\n\n\n    if (isBuilder) {\n      var patch = patchOps(new Patch(documentId, {}, this.client));\n\n      if (!(patch instanceof Patch)) {\n        throw new Error('function passed to `patch()` must return the patch');\n      }\n\n      return this._add({\n        patch: patch.serialize()\n      });\n    }\n\n    return this._add({\n      patch: assign({\n        id: documentId\n      }, patchOps)\n    });\n  },\n  transactionId: function transactionId(id) {\n    if (!id) {\n      return this.trxId;\n    }\n\n    this.trxId = id;\n    return this;\n  },\n  serialize: function serialize() {\n    return this.operations.slice();\n  },\n  toJSON: function toJSON() {\n    return this.serialize();\n  },\n  commit: function commit(options) {\n    if (!this.client) {\n      throw new Error('No `client` passed to transaction, either provide one or pass the ' + 'transaction to a clients `mutate()` method');\n    }\n\n    return this.client.mutate(this.serialize(), assign({\n      transactionId: this.trxId\n    }, defaultMutateOptions, options || {}));\n  },\n  reset: function reset() {\n    this.operations = [];\n    return this;\n  },\n  _add: function _add(mut) {\n    this.operations.push(mut);\n    return this;\n  }\n});\nmodule.exports = Transaction;","\"use strict\";\n\nvar enc = encodeURIComponent;\n\nmodule.exports = function (_ref) {\n  var query = _ref.query,\n      _ref$params = _ref.params,\n      params = _ref$params === void 0 ? {} : _ref$params,\n      _ref$options = _ref.options,\n      options = _ref$options === void 0 ? {} : _ref$options;\n  var base = \"?query=\".concat(enc(query));\n  var qString = Object.keys(params).reduce(function (qs, param) {\n    return \"\".concat(qs, \"&\").concat(enc(\"$\".concat(param)), \"=\").concat(enc(JSON.stringify(params[param])));\n  }, base);\n  return Object.keys(options).reduce(function (qs, option) {\n    // Only include the option if it is truthy\n    return options[option] ? \"\".concat(qs, \"&\").concat(enc(option), \"=\").concat(enc(options[option])) : qs;\n  }, qString);\n};","import { Subscriber } from '../Subscriber';\nimport { Subject } from '../Subject';\n\n/**\n * Determines whether the ErrorObserver is closed or stopped or has a\n * destination that is closed or stopped - in which case errors will\n * need to be reported via a different mechanism.\n * @param observer the observer\n */\nexport function canReportError(observer: Subscriber<any> | Subject<any>): boolean {\n  while (observer) {\n    const { closed, destination, isStopped } = observer as any;\n    if (closed || isStopped) {\n      return false;\n    } else if (destination && destination instanceof Subscriber) {\n      observer = destination;\n    } else {\n      observer = null;\n    }\n  }\n  return true;\n}\n","import { Subscriber } from '../Subscriber';\nimport { rxSubscriber as rxSubscriberSymbol } from '../symbol/rxSubscriber';\nimport { empty as emptyObserver } from '../Observer';\nimport { PartialObserver } from '../types';\n\nexport function toSubscriber<T>(\n  nextOrObserver?: PartialObserver<T> | ((value: T) => void),\n  error?: (error: any) => void,\n  complete?: () => void): Subscriber<T> {\n\n  if (nextOrObserver) {\n    if (nextOrObserver instanceof Subscriber) {\n      return (<Subscriber<T>> nextOrObserver);\n    }\n\n    if (nextOrObserver[rxSubscriberSymbol]) {\n      return nextOrObserver[rxSubscriberSymbol]();\n    }\n  }\n\n  if (!nextOrObserver && !error && !complete) {\n    return new Subscriber(emptyObserver);\n  }\n\n  return new Subscriber(nextOrObserver, error, complete);\n}\n","/** Symbol.observable addition */\n/* Note: This will add Symbol.observable globally for all TypeScript users,\n  however, we are no longer polyfilling Symbol.observable */\ndeclare global {\n  interface SymbolConstructor {\n    readonly observable: symbol;\n  }\n}\n\n/** Symbol.observable or a string \"@@observable\". Used for interop */\nexport const observable = typeof Symbol === 'function' && Symbol.observable || '@@observable';\n","/* tslint:disable:no-empty */\nexport function noop() { }\n","import { noop } from './noop';\nimport { UnaryFunction } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function pipe<T>(): UnaryFunction<T, T>;\nexport function pipe<T, A>(fn1: UnaryFunction<T, A>): UnaryFunction<T, A>;\nexport function pipe<T, A, B>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>): UnaryFunction<T, B>;\nexport function pipe<T, A, B, C>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>): UnaryFunction<T, C>;\nexport function pipe<T, A, B, C, D>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>): UnaryFunction<T, D>;\nexport function pipe<T, A, B, C, D, E>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>): UnaryFunction<T, E>;\nexport function pipe<T, A, B, C, D, E, F>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>, fn6: UnaryFunction<E, F>): UnaryFunction<T, F>;\nexport function pipe<T, A, B, C, D, E, F, G>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>, fn6: UnaryFunction<E, F>, fn7: UnaryFunction<F, G>): UnaryFunction<T, G>;\nexport function pipe<T, A, B, C, D, E, F, G, H>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>, fn6: UnaryFunction<E, F>, fn7: UnaryFunction<F, G>, fn8: UnaryFunction<G, H>): UnaryFunction<T, H>;\nexport function pipe<T, A, B, C, D, E, F, G, H, I>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>, fn6: UnaryFunction<E, F>, fn7: UnaryFunction<F, G>, fn8: UnaryFunction<G, H>, fn9: UnaryFunction<H, I>): UnaryFunction<T, I>;\nexport function pipe<T, A, B, C, D, E, F, G, H, I>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>, fn6: UnaryFunction<E, F>, fn7: UnaryFunction<F, G>, fn8: UnaryFunction<G, H>, fn9: UnaryFunction<H, I>, ...fns: UnaryFunction<any, any>[]): UnaryFunction<T, {}>;\n/* tslint:enable:max-line-length */\n\nexport function pipe(...fns: Array<UnaryFunction<any, any>>): UnaryFunction<any, any> {\n  return pipeFromArray(fns);\n}\n\n/** @internal */\nexport function pipeFromArray<T, R>(fns: Array<UnaryFunction<T, R>>): UnaryFunction<T, R> {\n  if (!fns) {\n    return noop as UnaryFunction<any, any>;\n  }\n\n  if (fns.length === 1) {\n    return fns[0];\n  }\n\n  return function piped(input: T): R {\n    return fns.reduce((prev: any, fn: UnaryFunction<T, R>) => fn(prev), input as any);\n  };\n}\n","import { Operator } from './Operator';\nimport { Subscriber } from './Subscriber';\nimport { Subscription } from './Subscription';\nimport { TeardownLogic, OperatorFunction, PartialObserver, Subscribable } from './types';\nimport { canReportError } from './util/canReportError';\nimport { toSubscriber } from './util/toSubscriber';\nimport { iif } from './observable/iif';\nimport { throwError } from './observable/throwError';\nimport { observable as Symbol_observable } from '../internal/symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\n\n/**\n * A representation of any set of values over any amount of time. This is the most basic building block\n * of RxJS.\n *\n * @class Observable<T>\n */\nexport class Observable<T> implements Subscribable<T> {\n\n  /** Internal implementation detail, do not use directly. */\n  public _isScalar: boolean = false;\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  source: Observable<any>;\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  operator: Operator<any, T>;\n\n  /**\n   * @constructor\n   * @param {Function} subscribe the function that is called when the Observable is\n   * initially subscribed to. This function is given a Subscriber, to which new values\n   * can be `next`ed, or an `error` method can be called to raise an error, or\n   * `complete` can be called to notify of a successful completion.\n   */\n  constructor(subscribe?: (this: Observable<T>, subscriber: Subscriber<T>) => TeardownLogic) {\n    if (subscribe) {\n      this._subscribe = subscribe;\n    }\n  }\n\n  // HACK: Since TypeScript inherits static properties too, we have to\n  // fight against TypeScript here so Subject can have a different static create signature\n  /**\n   * Creates a new cold Observable by calling the Observable constructor\n   * @static true\n   * @owner Observable\n   * @method create\n   * @param {Function} subscribe? the subscriber function to be passed to the Observable constructor\n   * @return {Observable} a new cold observable\n   * @nocollapse\n   * @deprecated use new Observable() instead\n   */\n  static create: Function = <T>(subscribe?: (subscriber: Subscriber<T>) => TeardownLogic) => {\n    return new Observable<T>(subscribe);\n  }\n\n  /**\n   * Creates a new Observable, with this Observable as the source, and the passed\n   * operator defined as the new observable's operator.\n   * @method lift\n   * @param {Operator} operator the operator defining the operation to take on the observable\n   * @return {Observable} a new observable with the Operator applied\n   */\n  lift<R>(operator: Operator<T, R>): Observable<R> {\n    const observable = new Observable<R>();\n    observable.source = this;\n    observable.operator = operator;\n    return observable;\n  }\n\n  subscribe(observer?: PartialObserver<T>): Subscription;\n  /** @deprecated Use an observer instead of a complete callback */\n  subscribe(next: null | undefined, error: null | undefined, complete: () => void): Subscription;\n  /** @deprecated Use an observer instead of an error callback */\n  subscribe(next: null | undefined, error: (error: any) => void, complete?: () => void): Subscription;\n  /** @deprecated Use an observer instead of a complete callback */\n  subscribe(next: (value: T) => void, error: null | undefined, complete: () => void): Subscription;\n  subscribe(next?: (value: T) => void, error?: (error: any) => void, complete?: () => void): Subscription;\n  /**\n   * Invokes an execution of an Observable and registers Observer handlers for notifications it will emit.\n   *\n   * <span class=\"informal\">Use it when you have all these Observables, but still nothing is happening.</span>\n   *\n   * `subscribe` is not a regular operator, but a method that calls Observable's internal `subscribe` function. It\n   * might be for example a function that you passed to Observable's constructor, but most of the time it is\n   * a library implementation, which defines what will be emitted by an Observable, and when it be will emitted. This means\n   * that calling `subscribe` is actually the moment when Observable starts its work, not when it is created, as it is often\n   * the thought.\n   *\n   * Apart from starting the execution of an Observable, this method allows you to listen for values\n   * that an Observable emits, as well as for when it completes or errors. You can achieve this in two\n   * of the following ways.\n   *\n   * The first way is creating an object that implements {@link Observer} interface. It should have methods\n   * defined by that interface, but note that it should be just a regular JavaScript object, which you can create\n   * yourself in any way you want (ES6 class, classic function constructor, object literal etc.). In particular do\n   * not attempt to use any RxJS implementation details to create Observers - you don't need them. Remember also\n   * that your object does not have to implement all methods. If you find yourself creating a method that doesn't\n   * do anything, you can simply omit it. Note however, if the `error` method is not provided, all errors will\n   * be left uncaught.\n   *\n   * The second way is to give up on Observer object altogether and simply provide callback functions in place of its methods.\n   * This means you can provide three functions as arguments to `subscribe`, where the first function is equivalent\n   * of a `next` method, the second of an `error` method and the third of a `complete` method. Just as in case of Observer,\n   * if you do not need to listen for something, you can omit a function, preferably by passing `undefined` or `null`,\n   * since `subscribe` recognizes these functions by where they were placed in function call. When it comes\n   * to `error` function, just as before, if not provided, errors emitted by an Observable will be thrown.\n   *\n   * Whichever style of calling `subscribe` you use, in both cases it returns a Subscription object.\n   * This object allows you to call `unsubscribe` on it, which in turn will stop the work that an Observable does and will clean\n   * up all resources that an Observable used. Note that cancelling a subscription will not call `complete` callback\n   * provided to `subscribe` function, which is reserved for a regular completion signal that comes from an Observable.\n   *\n   * Remember that callbacks provided to `subscribe` are not guaranteed to be called asynchronously.\n   * It is an Observable itself that decides when these functions will be called. For example {@link of}\n   * by default emits all its values synchronously. Always check documentation for how given Observable\n   * will behave when subscribed and if its default behavior can be modified with a `scheduler`.\n   *\n   * ## Example\n   * ### Subscribe with an Observer\n   * ```javascript\n   * const sumObserver = {\n   *   sum: 0,\n   *   next(value) {\n   *     console.log('Adding: ' + value);\n   *     this.sum = this.sum + value;\n   *   },\n   *   error() { // We actually could just remove this method,\n   *   },        // since we do not really care about errors right now.\n   *   complete() {\n   *     console.log('Sum equals: ' + this.sum);\n   *   }\n   * };\n   *\n   * Rx.Observable.of(1, 2, 3) // Synchronously emits 1, 2, 3 and then completes.\n   * .subscribe(sumObserver);\n   *\n   * // Logs:\n   * // \"Adding: 1\"\n   * // \"Adding: 2\"\n   * // \"Adding: 3\"\n   * // \"Sum equals: 6\"\n   * ```\n   *\n   * ### Subscribe with functions\n   * ```javascript\n   * let sum = 0;\n   *\n   * Rx.Observable.of(1, 2, 3)\n   * .subscribe(\n   *   function(value) {\n   *     console.log('Adding: ' + value);\n   *     sum = sum + value;\n   *   },\n   *   undefined,\n   *   function() {\n   *     console.log('Sum equals: ' + sum);\n   *   }\n   * );\n   *\n   * // Logs:\n   * // \"Adding: 1\"\n   * // \"Adding: 2\"\n   * // \"Adding: 3\"\n   * // \"Sum equals: 6\"\n   * ```\n   *\n   * ### Cancel a subscription\n   * ```javascript\n   * const subscription = Rx.Observable.interval(1000).subscribe(\n   *   num => console.log(num),\n   *   undefined,\n   *   () => console.log('completed!') // Will not be called, even\n   * );                                // when cancelling subscription\n   *\n   *\n   * setTimeout(() => {\n   *   subscription.unsubscribe();\n   *   console.log('unsubscribed!');\n   * }, 2500);\n   *\n   * // Logs:\n   * // 0 after 1s\n   * // 1 after 2s\n   * // \"unsubscribed!\" after 2.5s\n   * ```\n   *\n   * @param {Observer|Function} observerOrNext (optional) Either an observer with methods to be called,\n   *  or the first of three possible handlers, which is the handler for each value emitted from the subscribed\n   *  Observable.\n   * @param {Function} error (optional) A handler for a terminal event resulting from an error. If no error handler is provided,\n   *  the error will be thrown as unhandled.\n   * @param {Function} complete (optional) A handler for a terminal event resulting from successful completion.\n   * @return {ISubscription} a subscription reference to the registered handlers\n   * @method subscribe\n   */\n  subscribe(observerOrNext?: PartialObserver<T> | ((value: T) => void),\n            error?: (error: any) => void,\n            complete?: () => void): Subscription {\n\n    const { operator } = this;\n    const sink = toSubscriber(observerOrNext, error, complete);\n\n    if (operator) {\n      sink.add(operator.call(sink, this.source));\n    } else {\n      sink.add(\n        this.source || (config.useDeprecatedSynchronousErrorHandling && !sink.syncErrorThrowable) ?\n        this._subscribe(sink) :\n        this._trySubscribe(sink)\n      );\n    }\n\n    if (config.useDeprecatedSynchronousErrorHandling) {\n      if (sink.syncErrorThrowable) {\n        sink.syncErrorThrowable = false;\n        if (sink.syncErrorThrown) {\n          throw sink.syncErrorValue;\n        }\n      }\n    }\n\n    return sink;\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _trySubscribe(sink: Subscriber<T>): TeardownLogic {\n    try {\n      return this._subscribe(sink);\n    } catch (err) {\n      if (config.useDeprecatedSynchronousErrorHandling) {\n        sink.syncErrorThrown = true;\n        sink.syncErrorValue = err;\n      }\n      if (canReportError(sink)) {\n        sink.error(err);\n      } else {\n        console.warn(err);\n      }\n    }\n  }\n\n  /**\n   * @method forEach\n   * @param {Function} next a handler for each value emitted by the observable\n   * @param {PromiseConstructor} [promiseCtor] a constructor function used to instantiate the Promise\n   * @return {Promise} a promise that either resolves on observable completion or\n   *  rejects with the handled error\n   */\n  forEach(next: (value: T) => void, promiseCtor?: PromiseConstructorLike): Promise<void> {\n    promiseCtor = getPromiseCtor(promiseCtor);\n\n    return new promiseCtor<void>((resolve, reject) => {\n      // Must be declared in a separate statement to avoid a RefernceError when\n      // accessing subscription below in the closure due to Temporal Dead Zone.\n      let subscription: Subscription;\n      subscription = this.subscribe((value) => {\n        try {\n          next(value);\n        } catch (err) {\n          reject(err);\n          if (subscription) {\n            subscription.unsubscribe();\n          }\n        }\n      }, reject, resolve);\n    }) as Promise<void>;\n  }\n\n  /** @internal This is an internal implementation detail, do not use. */\n  _subscribe(subscriber: Subscriber<any>): TeardownLogic {\n    const { source } = this;\n    return source && source.subscribe(subscriber);\n  }\n\n  // `if` and `throw` are special snow flakes, the compiler sees them as reserved words. Deprecated in\n  // favor of iif and throwError functions.\n  /**\n   * @nocollapse\n   * @deprecated In favor of iif creation function: import { iif } from 'rxjs';\n   */\n  static if: typeof iif;\n  /**\n   * @nocollapse\n   * @deprecated In favor of throwError creation function: import { throwError } from 'rxjs';\n   */\n  static throw: typeof throwError;\n\n  /**\n   * An interop point defined by the es7-observable spec https://github.com/zenparsing/es-observable\n   * @method Symbol.observable\n   * @return {Observable} this instance of the observable\n   */\n  [Symbol_observable]() {\n    return this;\n  }\n\n  /* tslint:disable:max-line-length */\n  pipe(): Observable<T>;\n  pipe<A>(op1: OperatorFunction<T, A>): Observable<A>;\n  pipe<A, B>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>): Observable<B>;\n  pipe<A, B, C>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>): Observable<C>;\n  pipe<A, B, C, D>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>): Observable<D>;\n  pipe<A, B, C, D, E>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>): Observable<E>;\n  pipe<A, B, C, D, E, F>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>): Observable<F>;\n  pipe<A, B, C, D, E, F, G>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>, op7: OperatorFunction<F, G>): Observable<G>;\n  pipe<A, B, C, D, E, F, G, H>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>, op7: OperatorFunction<F, G>, op8: OperatorFunction<G, H>): Observable<H>;\n  pipe<A, B, C, D, E, F, G, H, I>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>, op7: OperatorFunction<F, G>, op8: OperatorFunction<G, H>, op9: OperatorFunction<H, I>): Observable<I>;\n  pipe<A, B, C, D, E, F, G, H, I>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>, op7: OperatorFunction<F, G>, op8: OperatorFunction<G, H>, op9: OperatorFunction<H, I>, ...operations: OperatorFunction<any, any>[]): Observable<{}>;\n  /* tslint:enable:max-line-length */\n\n  /**\n   * Used to stitch together functional operators into a chain.\n   * @method pipe\n   * @return {Observable} the Observable result of all of the operators having\n   * been called in the order they were passed in.\n   *\n   * ### Example\n   * ```javascript\n   * import { map, filter, scan } from 'rxjs/operators';\n   *\n   * Rx.Observable.interval(1000)\n   *   .pipe(\n   *     filter(x => x % 2 === 0),\n   *     map(x => x + x),\n   *     scan((acc, x) => acc + x)\n   *   )\n   *   .subscribe(x => console.log(x))\n   * ```\n   */\n  pipe(...operations: OperatorFunction<any, any>[]): Observable<any> {\n    if (operations.length === 0) {\n      return this as any;\n    }\n\n    return pipeFromArray(operations)(this);\n  }\n\n  /* tslint:disable:max-line-length */\n  toPromise<T>(this: Observable<T>): Promise<T>;\n  toPromise<T>(this: Observable<T>, PromiseCtor: typeof Promise): Promise<T>;\n  toPromise<T>(this: Observable<T>, PromiseCtor: PromiseConstructorLike): Promise<T>;\n  /* tslint:enable:max-line-length */\n\n  toPromise(promiseCtor?: PromiseConstructorLike): Promise<T> {\n    promiseCtor = getPromiseCtor(promiseCtor);\n\n    return new promiseCtor((resolve, reject) => {\n      let value: any;\n      this.subscribe((x: T) => value = x, (err: any) => reject(err), () => resolve(value));\n    }) as Promise<T>;\n  }\n}\n\n/**\n * Decides between a passed promise constructor from consuming code,\n * A default configured promise constructor, and the native promise\n * constructor and returns it. If nothing can be found, it will throw\n * an error.\n * @param promiseCtor The optional promise constructor to passed by consuming code\n */\nfunction getPromiseCtor(promiseCtor: PromiseConstructorLike | undefined) {\n  if (!promiseCtor) {\n    promiseCtor = config.Promise || Promise;\n  }\n\n  if (!promiseCtor) {\n    throw new Error('no Promise impl found');\n  }\n\n  return promiseCtor;\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { OperatorFunction, MonoTypeOperatorFunction } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function scan<T>(accumulator: (acc: T, value: T, index: number) => T, seed?: T): MonoTypeOperatorFunction<T>;\nexport function scan<T>(accumulator: (acc: T[], value: T, index: number) => T[], seed?: T[]): OperatorFunction<T, T[]>;\nexport function scan<T, R>(accumulator: (acc: R, value: T, index: number) => R, seed?: R): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Applies an accumulator function over the source Observable, and returns each\n * intermediate result, with an optional seed value.\n *\n * <span class=\"informal\">It's like {@link reduce}, but emits the current\n * accumulation whenever the source emits a value.</span>\n *\n * ![](scan.png)\n *\n * Combines together all values emitted on the source, using an accumulator\n * function that knows how to join a new source value into the accumulation from\n * the past. Is similar to {@link reduce}, but emits the intermediate\n * accumulations.\n *\n * Returns an Observable that applies a specified `accumulator` function to each\n * item emitted by the source Observable. If a `seed` value is specified, then\n * that value will be used as the initial value for the accumulator. If no seed\n * value is specified, the first item of the source is used as the seed.\n *\n * ## Example\n * Count the number of click events\n * ```javascript\n * import { fromEvent } from 'rxjs';\n * import { scan, mapTo } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const ones = clicks.pipe(mapTo(1));\n * const seed = 0;\n * const count = ones.pipe(scan((acc, one) => acc + one, seed));\n * count.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link expand}\n * @see {@link mergeScan}\n * @see {@link reduce}\n *\n * @param {function(acc: R, value: T, index: number): R} accumulator\n * The accumulator function called on each source value.\n * @param {T|R} [seed] The initial accumulation value.\n * @return {Observable<R>} An observable of the accumulated values.\n * @method scan\n * @owner Observable\n */\nexport function scan<T, R>(accumulator: (acc: R, value: T, index: number) => R, seed?: T | R): OperatorFunction<T, R> {\n  let hasSeed = false;\n  // providing a seed of `undefined` *should* be valid and trigger\n  // hasSeed! so don't use `seed !== undefined` checks!\n  // For this reason, we have to check it here at the original call site\n  // otherwise inside Operator/Subscriber we won't know if `undefined`\n  // means they didn't provide anything or if they literally provided `undefined`\n  if (arguments.length >= 2) {\n    hasSeed = true;\n  }\n\n  return function scanOperatorFunction(source: Observable<T>): Observable<R> {\n    return source.lift(new ScanOperator(accumulator, seed, hasSeed));\n  };\n}\n\nclass ScanOperator<T, R> implements Operator<T, R> {\n  constructor(private accumulator: (acc: R, value: T, index: number) => R, private seed?: T | R, private hasSeed: boolean = false) {}\n\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new ScanSubscriber(subscriber, this.accumulator, this.seed, this.hasSeed));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass ScanSubscriber<T, R> extends Subscriber<T> {\n  private index: number = 0;\n\n  get seed(): T | R {\n    return this._seed;\n  }\n\n  set seed(value: T | R) {\n    this.hasSeed = true;\n    this._seed = value;\n  }\n\n  constructor(destination: Subscriber<R>, private accumulator: (acc: R, value: T, index: number) => R, private _seed: T | R,\n              private hasSeed: boolean) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    if (!this.hasSeed) {\n      this.seed = value;\n      this.destination.next(value);\n    } else {\n      return this._tryNext(value);\n    }\n  }\n\n  private _tryNext(value: T): void {\n    const index = this.index++;\n    let result: any;\n    try {\n      result = this.accumulator(<R>this.seed, value, index);\n    } catch (err) {\n      this.destination.error(err);\n    }\n    this.seed = result;\n    this.destination.next(result);\n  }\n}\n","export interface ArgumentOutOfRangeError extends Error {\n}\n\nexport interface ArgumentOutOfRangeErrorCtor {\n  new(): ArgumentOutOfRangeError;\n}\n\nfunction ArgumentOutOfRangeErrorImpl(this: any) {\n  Error.call(this);\n  this.message = 'argument out of range';\n  this.name = 'ArgumentOutOfRangeError';\n  return this;\n}\n\nArgumentOutOfRangeErrorImpl.prototype = Object.create(Error.prototype);\n\n/**\n * An error thrown when an element was queried at a certain index of an\n * Observable, but no such index or position exists in that sequence.\n *\n * @see {@link elementAt}\n * @see {@link take}\n * @see {@link takeLast}\n *\n * @class ArgumentOutOfRangeError\n */\nexport const ArgumentOutOfRangeError: ArgumentOutOfRangeErrorCtor = ArgumentOutOfRangeErrorImpl as any;","import { Observable } from '../Observable';\nimport { SchedulerLike } from '../types';\n\n/**\n * The same Observable instance returned by any call to {@link empty} without a\n * `scheduler`. It is preferrable to use this over `empty()`.\n */\nexport const EMPTY = new Observable<never>(subscriber => subscriber.complete());\n\n/**\n * Creates an Observable that emits no items to the Observer and immediately\n * emits a complete notification.\n *\n * <span class=\"informal\">Just emits 'complete', and nothing else.\n * </span>\n *\n * ![](empty.png)\n *\n * This static operator is useful for creating a simple Observable that only\n * emits the complete notification. It can be used for composing with other\n * Observables, such as in a {@link mergeMap}.\n *\n * ## Examples\n * ### Emit the number 7, then complete\n * ```javascript\n * import { empty } from 'rxjs';\n * import { startWith } from 'rxjs/operators';\n *\n * const result = empty().pipe(startWith(7));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * ### Map and flatten only odd numbers to the sequence 'a', 'b', 'c'\n * ```javascript\n * import { empty, interval } from 'rxjs';\n * import { mergeMap } from 'rxjs/operators';\n *\n * const interval$ = interval(1000);\n * result = interval$.pipe(\n *   mergeMap(x => x % 2 === 1 ? of('a', 'b', 'c') : empty()),\n * );\n * result.subscribe(x => console.log(x));\n *\n * // Results in the following to the console:\n * // x is equal to the count on the interval eg(0,1,2,3,...)\n * // x will occur every 1000ms\n * // if x % 2 is equal to 1 print abc\n * // if x % 2 is not equal to 1 nothing will be output\n * ```\n *\n * @see {@link Observable}\n * @see {@link never}\n * @see {@link of}\n * @see {@link throwError}\n *\n * @param {SchedulerLike} [scheduler] A {@link SchedulerLike} to use for scheduling\n * the emission of the complete notification.\n * @return {Observable} An \"empty\" Observable: emits only the complete\n * notification.\n * @static true\n * @name empty\n * @owner Observable\n * @deprecated Deprecated in favor of using {@link index/EMPTY} constant.\n */\nexport function empty(scheduler?: SchedulerLike) {\n  return scheduler ? emptyScheduled(scheduler) : EMPTY;\n}\n\nexport function emptyScheduled(scheduler: SchedulerLike) {\n  return new Observable<never>(subscriber => scheduler.schedule(() => subscriber.complete()));\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { ArgumentOutOfRangeError } from '../util/ArgumentOutOfRangeError';\nimport { empty } from '../observable/empty';\nimport { Observable } from '../Observable';\nimport { MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/**\n * Emits only the last `count` values emitted by the source Observable.\n *\n * <span class=\"informal\">Remembers the latest `count` values, then emits those\n * only when the source completes.</span>\n *\n * ![](takeLast.png)\n *\n * `takeLast` returns an Observable that emits at most the last `count` values\n * emitted by the source Observable. If the source emits fewer than `count`\n * values then all of its values are emitted. This operator must wait until the\n * `complete` notification emission from the source in order to emit the `next`\n * values on the output Observable, because otherwise it is impossible to know\n * whether or not more values will be emitted on the source. For this reason,\n * all values are emitted synchronously, followed by the complete notification.\n *\n * ## Example\n * Take the last 3 values of an Observable with many values\n * ```javascript\n * import { range } from 'rxjs';\n * import { takeLast } from 'rxjs/operators';\n *\n * const many = range(1, 100);\n * const lastThree = many.pipe(takeLast(3));\n * lastThree.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link take}\n * @see {@link takeUntil}\n * @see {@link takeWhile}\n * @see {@link skip}\n *\n * @throws {ArgumentOutOfRangeError} When using `takeLast(i)`, it delivers an\n * ArgumentOutOrRangeError to the Observer's `error` callback if `i < 0`.\n *\n * @param {number} count The maximum number of values to emit from the end of\n * the sequence of values emitted by the source Observable.\n * @return {Observable<T>} An Observable that emits at most the last count\n * values emitted by the source Observable.\n * @method takeLast\n * @owner Observable\n */\nexport function takeLast<T>(count: number): MonoTypeOperatorFunction<T> {\n  return function takeLastOperatorFunction(source: Observable<T>): Observable<T> {\n    if (count === 0) {\n      return empty();\n    } else {\n      return source.lift(new TakeLastOperator(count));\n    }\n  };\n}\n\nclass TakeLastOperator<T> implements Operator<T, T> {\n  constructor(private total: number) {\n    if (this.total < 0) {\n      throw new ArgumentOutOfRangeError;\n    }\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new TakeLastSubscriber(subscriber, this.total));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass TakeLastSubscriber<T> extends Subscriber<T> {\n  private ring: Array<T> = new Array();\n  private count: number = 0;\n\n  constructor(destination: Subscriber<T>, private total: number) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    const ring = this.ring;\n    const total = this.total;\n    const count = this.count++;\n\n    if (ring.length < total) {\n      ring.push(value);\n    } else {\n      const index = count % total;\n      ring[index] = value;\n    }\n  }\n\n  protected _complete(): void {\n    const destination = this.destination;\n    let count = this.count;\n\n    if (count > 0) {\n      const total = this.count >= this.total ? this.total : this.count;\n      const ring  = this.ring;\n\n      for (let i = 0; i < total; i++) {\n        const idx = (count++) % total;\n        destination.next(ring[idx]);\n      }\n    }\n\n    destination.complete();\n  }\n}\n","import { Operator } from '../Operator';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { OperatorFunction, MonoTypeOperatorFunction } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function defaultIfEmpty<T>(defaultValue?: T): MonoTypeOperatorFunction<T>;\nexport function defaultIfEmpty<T, R>(defaultValue?: R): OperatorFunction<T, T | R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Emits a given value if the source Observable completes without emitting any\n * `next` value, otherwise mirrors the source Observable.\n *\n * <span class=\"informal\">If the source Observable turns out to be empty, then\n * this operator will emit a default value.</span>\n *\n * ![](defaultIfEmpty.png)\n *\n * `defaultIfEmpty` emits the values emitted by the source Observable or a\n * specified default value if the source Observable is empty (completes without\n * having emitted any `next` value).\n *\n * ## Example\n * If no clicks happen in 5 seconds, then emit \"no clicks\"\n * ```javascript\n * import { fromEvent } from 'rxjs';\n * import { defaultIfEmpty, takeUntil } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const clicksBeforeFive = clicks.pipe(takeUntil(interval(5000)));\n * const result = clicksBeforeFive.pipe(defaultIfEmpty('no clicks'));\n * result.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link empty}\n * @see {@link last}\n *\n * @param {any} [defaultValue=null] The default value used if the source\n * Observable is empty.\n * @return {Observable} An Observable that emits either the specified\n * `defaultValue` if the source Observable emits no items, or the values emitted\n * by the source Observable.\n * @method defaultIfEmpty\n * @owner Observable\n */\nexport function defaultIfEmpty<T, R>(defaultValue: R = null): OperatorFunction<T, T | R> {\n  return (source: Observable<T>) => source.lift(new DefaultIfEmptyOperator(defaultValue)) as Observable<T | R>;\n}\n\nclass DefaultIfEmptyOperator<T, R> implements Operator<T, T | R> {\n\n  constructor(private defaultValue: R) {\n  }\n\n  call(subscriber: Subscriber<T | R>, source: any): any {\n    return source.subscribe(new DefaultIfEmptySubscriber(subscriber, this.defaultValue));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass DefaultIfEmptySubscriber<T, R> extends Subscriber<T> {\n  private isEmpty: boolean = true;\n\n  constructor(destination: Subscriber<T | R>, private defaultValue: R) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    this.isEmpty = false;\n    this.destination.next(value);\n  }\n\n  protected _complete(): void {\n    if (this.isEmpty) {\n      this.destination.next(this.defaultValue);\n    }\n    this.destination.complete();\n  }\n}\n","import { Observable } from '../Observable';\nimport { scan } from './scan';\nimport { takeLast } from './takeLast';\nimport { defaultIfEmpty } from './defaultIfEmpty';\nimport { OperatorFunction, MonoTypeOperatorFunction } from '../types';\nimport { pipe } from '../util/pipe';\n\n/* tslint:disable:max-line-length */\nexport function reduce<T>(accumulator: (acc: T, value: T, index: number) => T, seed?: T): MonoTypeOperatorFunction<T>;\nexport function reduce<T>(accumulator: (acc: T[], value: T, index: number) => T[], seed: T[]): OperatorFunction<T, T[]>;\nexport function reduce<T, R>(accumulator: (acc: R, value: T, index: number) => R, seed?: R): OperatorFunction<T, R>;\n/* tslint:enable:max-line-length */\n\n/**\n * Applies an accumulator function over the source Observable, and returns the\n * accumulated result when the source completes, given an optional seed value.\n *\n * <span class=\"informal\">Combines together all values emitted on the source,\n * using an accumulator function that knows how to join a new source value into\n * the accumulation from the past.</span>\n *\n * ![](reduce.png)\n *\n * Like\n * [Array.prototype.reduce()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce),\n * `reduce` applies an `accumulator` function against an accumulation and each\n * value of the source Observable (from the past) to reduce it to a single\n * value, emitted on the output Observable. Note that `reduce` will only emit\n * one value, only when the source Observable completes. It is equivalent to\n * applying operator {@link scan} followed by operator {@link last}.\n *\n * Returns an Observable that applies a specified `accumulator` function to each\n * item emitted by the source Observable. If a `seed` value is specified, then\n * that value will be used as the initial value for the accumulator. If no seed\n * value is specified, the first item of the source is used as the seed.\n *\n * ## Example\n * Count the number of click events that happened in 5 seconds\n * ```javascript\n * import { fromEvent, interval } from 'rxjs';\n * import { reduce, takeUntil, mapTo } from 'rxjs/operators';\n *\n * const clicksInFiveSeconds = fromEvent(document, 'click').pipe(\n *   takeUntil(interval(5000)),\n * );\n * const ones = clicksInFiveSeconds.pipe(mapTo(1));\n * const seed = 0;\n * const count = ones.pipe(reduce((acc, one) => acc + one, seed));\n * count.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link count}\n * @see {@link expand}\n * @see {@link mergeScan}\n * @see {@link scan}\n *\n * @param {function(acc: R, value: T, index: number): R} accumulator The accumulator function\n * called on each source value.\n * @param {R} [seed] The initial accumulation value.\n * @return {Observable<R>} An Observable that emits a single value that is the\n * result of accumulating the values emitted by the source Observable.\n * @method reduce\n * @owner Observable\n */\nexport function reduce<T, R>(accumulator: (acc: R, value: T, index?: number) => R, seed?: R): OperatorFunction<T, R> {\n  // providing a seed of `undefined` *should* be valid and trigger\n  // hasSeed! so don't use `seed !== undefined` checks!\n  // For this reason, we have to check it here at the original call site\n  // otherwise inside Operator/Subscriber we won't know if `undefined`\n  // means they didn't provide anything or if they literally provided `undefined`\n  if (arguments.length >= 2) {\n    return function reduceOperatorFunctionWithSeed(source: Observable<T>): Observable<R> {\n      return pipe(scan(accumulator, seed), takeLast(1), defaultIfEmpty(seed))(source);\n    };\n  }\n  return function reduceOperatorFunction(source: Observable<T>): Observable<R> {\n    return pipe(\n      scan((acc: R, value: T, index: number): R => accumulator(acc, value, index + 1)),\n      takeLast(1),\n    )(source);\n  };\n}\n","exports.reduce = require('rxjs/internal/operators/reduce').reduce\n","\"use strict\";\n\nvar _require = require('rxjs/internal/Observable'),\n    Observable = _require.Observable;\n\nvar assign = require('object-assign');\n\nvar _require2 = require('../operators/map'),\n    map = _require2.map;\n\nvar _require3 = require('../operators/filter'),\n    filter = _require3.filter;\n\nvar _require4 = require('../operators/reduce'),\n    reduce = _require4.reduce;\n/*\n A minimal rxjs based observable that align as closely as possible with the current es-observable spec,\n without the static factory methods\n */\n\n\nfunction SanityObservableMinimal() {\n  Observable.apply(this, arguments); // eslint-disable-line prefer-rest-params\n}\n\nSanityObservableMinimal.prototype = Object.create(assign(Object.create(null), Observable.prototype));\nObject.defineProperty(SanityObservableMinimal.prototype, 'constructor', {\n  value: SanityObservableMinimal,\n  enumerable: false,\n  writable: true,\n  configurable: true\n});\n\nSanityObservableMinimal.prototype.lift = function lift(operator) {\n  var observable = new SanityObservableMinimal();\n  observable.source = this;\n  observable.operator = operator;\n  return observable;\n};\n\nfunction createDeprecatedMemberOp(name, op) {\n  var hasWarned = false;\n  return function deprecatedOperator() {\n    if (!hasWarned) {\n      hasWarned = true;\n      console.warn(new Error(\"Calling observable.\".concat(name, \"(...) is deprecated. Please use observable.pipe(\").concat(name, \"(...)) instead\")));\n    }\n\n    return this.pipe(op.apply(this, arguments));\n  };\n}\n\nSanityObservableMinimal.prototype.map = createDeprecatedMemberOp('map', map);\nSanityObservableMinimal.prototype.filter = createDeprecatedMemberOp('filter', filter);\nSanityObservableMinimal.prototype.reduce = createDeprecatedMemberOp('filter', reduce);\nmodule.exports = SanityObservableMinimal;","module.exports = require('./lib/SanityObservableMinimal')\n","/*\n   * EventSource polyfill version 0.9.6\n   * Supported by sc AmvTek srl\n   * :email: devel@amvtek.com\n */\n;(function (global) {\n\n    if (global.EventSource && !global._eventSourceImportPrefix){\n        return;\n    }\n\n    var evsImportName = (global._eventSourceImportPrefix||'')+\"EventSource\";\n\n    var EventSource = function (url, options) {\n\n        if (!url || typeof url != 'string') {\n            throw new SyntaxError('Not enough arguments');\n        }\n\n        this.URL = url;\n        this.setOptions(options);\n        var evs = this;\n        setTimeout(function(){evs.poll()}, 0);\n    };\n\n    EventSource.prototype = {\n\n        CONNECTING: 0,\n\n        OPEN: 1,\n\n        CLOSED: 2,\n\n        defaultOptions: {\n\n            loggingEnabled: false,\n\n            loggingPrefix: \"eventsource\",\n\n            interval: 500, // milliseconds\n\n            bufferSizeLimit: 256*1024, // bytes\n\n            silentTimeout: 300000, // milliseconds\n\n            getArgs:{\n                'evs_buffer_size_limit': 256*1024\n            },\n\n            xhrHeaders:{\n                'Accept': 'text/event-stream',\n                'Cache-Control': 'no-cache',\n                'X-Requested-With': 'XMLHttpRequest'\n            }\n        },\n\n        setOptions: function(options){\n\n            var defaults = this.defaultOptions;\n            var option;\n\n            // set all default options...\n            for (option in defaults){\n\n                if ( defaults.hasOwnProperty(option) ){\n                    this[option] = defaults[option];\n                }\n            }\n\n            // override with what is in options\n            for (option in options){\n\n                if (option in defaults && options.hasOwnProperty(option)){\n                    this[option] = options[option];\n                }\n            }\n\n            // if getArgs option is enabled\n            // ensure evs_buffer_size_limit corresponds to bufferSizeLimit\n            if (this.getArgs && this.bufferSizeLimit) {\n\n                this.getArgs['evs_buffer_size_limit'] = this.bufferSizeLimit;\n            }\n\n            // if console is not available, force loggingEnabled to false\n            if (typeof console === \"undefined\" || typeof console.log === \"undefined\") {\n\n                this.loggingEnabled = false;\n            }\n        },\n\n        log: function(message) {\n\n            if (this.loggingEnabled) {\n\n                console.log(\"[\" + this.loggingPrefix +\"]:\" + message)\n            }\n        },\n\n        poll: function() {\n\n            try {\n\n                if (this.readyState == this.CLOSED) {\n                    return;\n                }\n\n                this.cleanup();\n                this.readyState = this.CONNECTING;\n                this.cursor = 0;\n                this.cache = '';\n                this._xhr = new this.XHR(this);\n                this.resetNoActivityTimer();\n\n            }\n            catch (e) {\n\n                // in an attempt to silence the errors\n                this.log('There were errors inside the pool try-catch');\n                this.dispatchEvent('error', { type: 'error', data: e.message });\n            }\n        },\n\n        pollAgain: function (interval) {\n\n            // schedule poll to be called after interval milliseconds\n            var evs = this;\n            evs.readyState = evs.CONNECTING;\n            evs.dispatchEvent('error', {\n                type: 'error',\n                data: \"Reconnecting \"\n            });\n            this._pollTimer = setTimeout(function(){evs.poll()}, interval||0);\n        },\n\n\n        cleanup: function() {\n\n            this.log('evs cleaning up')\n\n            if (this._pollTimer){\n                clearInterval(this._pollTimer);\n                this._pollTimer = null;\n            }\n\n            if (this._noActivityTimer){\n                clearInterval(this._noActivityTimer);\n                this._noActivityTimer = null;\n            }\n\n            if (this._xhr){\n                this._xhr.abort();\n                this._xhr = null;\n            }\n        },\n\n        resetNoActivityTimer: function(){\n\n            if (this.silentTimeout){\n\n                if (this._noActivityTimer){\n                    clearInterval(this._noActivityTimer);\n                }\n                var evs = this;\n                this._noActivityTimer = setTimeout(\n                        function(){ evs.log('Timeout! silentTImeout:'+evs.silentTimeout); evs.pollAgain(); },\n                        this.silentTimeout\n                        );\n            }\n        },\n\n        close: function () {\n\n            this.readyState = this.CLOSED;\n            this.log('Closing connection. readyState: '+this.readyState);\n            this.cleanup();\n        },\n\n        ondata: function() {\n\n            var request = this._xhr;\n\n            if (request.isReady() && !request.hasError() ) {\n                // reset the timer, as we have activity\n                this.resetNoActivityTimer();\n\n                // move this EventSource to OPEN state...\n                if (this.readyState == this.CONNECTING) {\n                    this.readyState = this.OPEN;\n                    this.dispatchEvent('open', { type: 'open' });\n                }\n\n                var buffer = request.getBuffer();\n\n                if (buffer.length > this.bufferSizeLimit) {\n                    this.log('buffer.length > this.bufferSizeLimit');\n                    this.pollAgain();\n                }\n\n                if (this.cursor == 0 && buffer.length > 0){\n\n                    // skip byte order mark \\uFEFF character if it starts the stream\n                    if (buffer.substring(0,1) == '\\uFEFF'){\n                        this.cursor = 1;\n                    }\n                }\n\n                var lastMessageIndex = this.lastMessageIndex(buffer);\n                if (lastMessageIndex[0] >= this.cursor){\n\n                    var newcursor = lastMessageIndex[1];\n                    var toparse = buffer.substring(this.cursor, newcursor);\n                    this.parseStream(toparse);\n                    this.cursor = newcursor;\n                }\n\n                // if request is finished, reopen the connection\n                if (request.isDone()) {\n                    this.log('request.isDone(). reopening the connection');\n                    this.pollAgain(this.interval);\n                }\n            }\n            else if (this.readyState !== this.CLOSED) {\n\n                this.log('this.readyState !== this.CLOSED');\n                this.pollAgain(this.interval);\n\n                //MV: Unsure why an error was previously dispatched\n            }\n        },\n\n        parseStream: function(chunk) {\n\n            // normalize line separators (\\r\\n,\\r,\\n) to \\n\n            // remove white spaces that may precede \\n\n            chunk = this.cache + this.normalizeToLF(chunk);\n\n            var events = chunk.split('\\n\\n');\n\n            var i, j, eventType, datas, line, retry;\n\n            for (i=0; i < (events.length - 1); i++) {\n\n                eventType = 'message';\n                datas = [];\n                parts = events[i].split('\\n');\n\n                for (j=0; j < parts.length; j++) {\n\n                    line = this.trimWhiteSpace(parts[j]);\n\n                    if (line.indexOf('event') == 0) {\n\n                        eventType = line.replace(/event:?\\s*/, '');\n                    }\n                    else if (line.indexOf('retry') == 0) {\n\n                        retry = parseInt(line.replace(/retry:?\\s*/, ''));\n                        if(!isNaN(retry)) {\n                            this.interval = retry;\n                        }\n                    }\n                    else if (line.indexOf('data') == 0) {\n\n                        datas.push(line.replace(/data:?\\s*/, ''));\n                    }\n                    else if (line.indexOf('id:') == 0) {\n\n                        this.lastEventId = line.replace(/id:?\\s*/, '');\n                    }\n                    else if (line.indexOf('id') == 0) { // this resets the id\n\n                        this.lastEventId = null;\n                    }\n                }\n\n                if (datas.length) {\n                    // dispatch a new event\n                    var event = new MessageEvent(eventType, datas.join('\\n'), window.location.origin, this.lastEventId);\n                    this.dispatchEvent(eventType, event);\n                }\n            }\n\n            this.cache = events[events.length - 1];\n        },\n\n        dispatchEvent: function (type, event) {\n            var handlers = this['_' + type + 'Handlers'];\n\n            if (handlers) {\n\n                for (var i = 0; i < handlers.length; i++) {\n                    handlers[i].call(this, event);\n                }\n            }\n\n            if (this['on' + type]) {\n                this['on' + type].call(this, event);\n            }\n\n        },\n\n        addEventListener: function (type, handler) {\n            if (!this['_' + type + 'Handlers']) {\n                this['_' + type + 'Handlers'] = [];\n            }\n\n            this['_' + type + 'Handlers'].push(handler);\n        },\n\n        removeEventListener: function (type, handler) {\n            var handlers = this['_' + type + 'Handlers'];\n            if (!handlers) {\n                return;\n            }\n            for (var i = handlers.length - 1; i >= 0; --i) {\n                if (handlers[i] === handler) {\n                    handlers.splice(i, 1);\n                    break;\n                }\n            }\n        },\n\n        _pollTimer: null,\n\n        _noactivityTimer: null,\n\n        _xhr: null,\n\n        lastEventId: null,\n\n        cache: '',\n\n        cursor: 0,\n\n        onerror: null,\n\n        onmessage: null,\n\n        onopen: null,\n\n        readyState: 0,\n\n        // ===================================================================\n        // helpers functions\n        // those are attached to prototype to ease reuse and testing...\n\n        urlWithParams: function (baseURL, params) {\n\n            var encodedArgs = [];\n\n            if (params){\n\n                var key, urlarg;\n                var urlize = encodeURIComponent;\n\n                for (key in params){\n                    if (params.hasOwnProperty(key)) {\n                        urlarg = urlize(key)+'='+urlize(params[key]);\n                        encodedArgs.push(urlarg);\n                    }\n                }\n            }\n\n            if (encodedArgs.length > 0){\n\n                if (baseURL.indexOf('?') == -1)\n                    return baseURL + '?' + encodedArgs.join('&');\n                return baseURL + '&' + encodedArgs.join('&');\n            }\n            return baseURL;\n        },\n\n        lastMessageIndex: function(text) {\n\n            var ln2 =text.lastIndexOf('\\n\\n');\n            var lr2 = text.lastIndexOf('\\r\\r');\n            var lrln2 = text.lastIndexOf('\\r\\n\\r\\n');\n\n            if (lrln2 > Math.max(ln2, lr2)) {\n                return [lrln2, lrln2+4];\n            }\n            return [Math.max(ln2, lr2), Math.max(ln2, lr2) + 2]\n        },\n\n        trimWhiteSpace: function(str) {\n            // to remove whitespaces left and right of string\n\n            var reTrim = /^(\\s|\\u00A0)+|(\\s|\\u00A0)+$/g;\n            return str.replace(reTrim, '');\n        },\n\n        normalizeToLF: function(str) {\n\n            // replace \\r and \\r\\n with \\n\n            return str.replace(/\\r\\n|\\r/g, '\\n');\n        }\n\n    };\n\n    if (!isOldIE()){\n\n        EventSource.isPolyfill = \"XHR\";\n\n        // EventSource will send request using XMLHttpRequest\n        EventSource.prototype.XHR = function(evs) {\n\n            request = new XMLHttpRequest();\n            this._request = request;\n            evs._xhr = this;\n\n            // set handlers\n            request.onreadystatechange = function(){\n                if (request.readyState > 1 && evs.readyState != evs.CLOSED) {\n                    if (request.status == 200 || (request.status>=300 && request.status<400)){\n                        evs.ondata();\n                    }\n                    else {\n                        request._failed = true;\n                        evs.readyState = evs.CLOSED;\n                        evs.dispatchEvent('error', {\n                            type: 'error',\n                            data: \"The server responded with \"+request.status\n                        });\n                        evs.close();\n                    }\n                }\n            };\n\n            request.onprogress = function () {\n            };\n\n            request.open('GET', evs.urlWithParams(evs.URL, evs.getArgs), true);\n\n            var headers = evs.xhrHeaders; // maybe null\n            for (var header in headers) {\n                if (headers.hasOwnProperty(header)){\n                    request.setRequestHeader(header, headers[header]);\n                }\n            }\n            if (evs.lastEventId) {\n                request.setRequestHeader('Last-Event-Id', evs.lastEventId);\n            }\n\n            request.send();\n        };\n\n        EventSource.prototype.XHR.prototype = {\n\n            useXDomainRequest: false,\n\n            _request: null,\n\n            _failed: false, // true if we have had errors...\n\n            isReady: function() {\n\n\n                return this._request.readyState >= 2;\n            },\n\n            isDone: function() {\n\n                return (this._request.readyState == 4);\n            },\n\n            hasError: function() {\n\n                return (this._failed || (this._request.status >= 400));\n            },\n\n            getBuffer: function() {\n\n                var rv = '';\n                try {\n                    rv = this._request.responseText || '';\n                }\n                catch (e){}\n                return rv;\n            },\n\n            abort: function() {\n\n                if ( this._request ) {\n                    this._request.abort();\n                }\n            }\n        };\n    }\n    else {\n\n\tEventSource.isPolyfill = \"IE_8-9\";\n\n        // patch EventSource defaultOptions\n        var defaults = EventSource.prototype.defaultOptions;\n        defaults.xhrHeaders = null; // no headers will be sent\n        defaults.getArgs['evs_preamble'] = 2048 + 8;\n\n        // EventSource will send request using Internet Explorer XDomainRequest\n        EventSource.prototype.XHR = function(evs) {\n\n            request = new XDomainRequest();\n            this._request = request;\n\n            // set handlers\n            request.onprogress = function(){\n                request._ready = true;\n                evs.ondata();\n            };\n\n            request.onload = function(){\n                this._loaded = true;\n                evs.ondata();\n            };\n\n            request.onerror = function(){\n                this._failed = true;\n                evs.readyState = evs.CLOSED;\n                evs.dispatchEvent('error', {\n                    type: 'error',\n                    data: \"XDomainRequest error\"\n                });\n            };\n\n            request.ontimeout = function(){\n                this._failed = true;\n                evs.readyState = evs.CLOSED;\n                evs.dispatchEvent('error', {\n                    type: 'error',\n                    data: \"XDomainRequest timed out\"\n                });\n            };\n\n            // XDomainRequest does not allow setting custom headers\n            // If EventSource has enabled the use of GET arguments\n            // we add parameters to URL so that server can adapt the stream...\n            var reqGetArgs = {};\n            if (evs.getArgs) {\n\n                // copy evs.getArgs in reqGetArgs\n                var defaultArgs = evs.getArgs;\n                    for (var key in defaultArgs) {\n                        if (defaultArgs.hasOwnProperty(key)){\n                            reqGetArgs[key] = defaultArgs[key];\n                        }\n                    }\n                if (evs.lastEventId){\n                    reqGetArgs['evs_last_event_id'] = evs.lastEventId;\n                }\n            }\n            // send the request\n\n            request.open('GET', evs.urlWithParams(evs.URL,reqGetArgs));\n            request.send();\n        };\n\n        EventSource.prototype.XHR.prototype = {\n\n            useXDomainRequest: true,\n\n            _request: null,\n\n            _ready: false, // true when progress events are dispatched\n\n            _loaded: false, // true when request has been loaded\n\n            _failed: false, // true if when request is in error\n\n            isReady: function() {\n\n                return this._request._ready;\n            },\n\n            isDone: function() {\n\n                return this._request._loaded;\n            },\n\n            hasError: function() {\n\n                return this._request._failed;\n            },\n\n            getBuffer: function() {\n\n                var rv = '';\n                try {\n                    rv = this._request.responseText || '';\n                }\n                catch (e){}\n                return rv;\n            },\n\n            abort: function() {\n\n                if ( this._request){\n                    this._request.abort();\n                }\n            }\n        };\n    }\n\n    function MessageEvent(type, data, origin, lastEventId) {\n\n        this.bubbles = false;\n        this.cancelBubble = false;\n        this.cancelable = false;\n        this.data = data || null;\n        this.origin = origin || '';\n        this.lastEventId = lastEventId || '';\n        this.type = type || 'message';\n    }\n\n    function isOldIE () {\n\n        //return true if we are in IE8 or IE9\n        return (window.XDomainRequest && (window.XMLHttpRequest && new XMLHttpRequest().responseType === undefined)) ? true : false;\n    }\n\n    global[evsImportName] = EventSource;\n})(this);\n","/* eslint-disable no-var */\nvar evs = require('eventsource-polyfill/dist/eventsource')\nmodule.exports = window.EventSource || evs.EventSource\n","\"use strict\";\n\nmodule.exports = function (obj, props) {\n  return props.reduce(function (selection, prop) {\n    if (typeof obj[prop] === 'undefined') {\n      return selection;\n    }\n\n    selection[prop] = obj[prop];\n    return selection;\n  }, {});\n};","\"use strict\";\n\nmodule.exports = function (obj, defaults) {\n  return Object.keys(defaults).concat(Object.keys(obj)).reduce(function (target, prop) {\n    target[prop] = typeof obj[prop] === 'undefined' ? defaults[prop] : obj[prop];\n    return target;\n  }, {});\n};","var baseUrl = 'https://docs.sanity.io/help/'\n\nmodule.exports = function generateHelpUrl(slug) {\n  return baseUrl + slug\n}\n","\"use strict\";\n\nmodule.exports = function (fn) {\n  var didCall = false;\n  var returnValue;\n  return function () {\n    if (didCall) {\n      return returnValue;\n    }\n\n    returnValue = fn.apply(void 0, arguments);\n    didCall = true;\n    return returnValue;\n  };\n};","\"use strict\";\n\nvar assign = require('object-assign');\n\nvar Observable = require('@sanity/observable/minimal');\n\nvar polyfilledEventSource = require('@sanity/eventsource');\n\nvar pick = require('../util/pick');\n\nvar defaults = require('../util/defaults');\n\nvar encodeQueryString = require('./encodeQueryString');\n\nvar generateHelpUrl = require('@sanity/generate-help-url');\n\nvar once = require('../util/once');\n\nvar tokenWarning = ['Using token with listeners is not supported in browsers. ', \"For more info, see \".concat(generateHelpUrl('js-client-listener-tokens-browser'), \".\")]; // eslint-disable-next-line no-console\n\nvar printTokenWarning = once(function () {\n  return console.warn(tokenWarning.join(' '));\n});\nvar isWindowEventSource = Boolean(typeof window !== 'undefined' && window.EventSource);\nvar EventSource = isWindowEventSource ? window.EventSource // Native browser EventSource\n: polyfilledEventSource; // Node.js, IE etc\n\nvar possibleOptions = ['includePreviousRevision', 'includeResult'];\nvar defaultOptions = {\n  includeResult: true\n};\n\nmodule.exports = function listen(query, params) {\n  var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var options = defaults(opts, defaultOptions);\n  var listenOpts = pick(options, possibleOptions);\n  var qs = encodeQueryString({\n    query: query,\n    params: params,\n    options: listenOpts\n  });\n  var _this$clientConfig = this.clientConfig,\n      url = _this$clientConfig.url,\n      token = _this$clientConfig.token,\n      withCredentials = _this$clientConfig.withCredentials;\n  var uri = \"\".concat(url).concat(this.getDataUrl('listen', qs));\n  var listenFor = options.events ? options.events : ['mutation'];\n  var shouldEmitReconnect = listenFor.indexOf('reconnect') !== -1;\n\n  if (token && isWindowEventSource) {\n    printTokenWarning();\n  }\n\n  var esOptions = {};\n\n  if (token || withCredentials) {\n    esOptions.withCredentials = true;\n  }\n\n  if (token) {\n    esOptions.headers = {\n      Authorization: \"Bearer \".concat(token)\n    };\n  }\n\n  return new Observable(function (observer) {\n    var es = getEventSource();\n    var reconnectTimer;\n    var stopped = false;\n\n    function onError() {\n      if (stopped) {\n        return;\n      }\n\n      emitReconnect(); // Allow event handlers of `emitReconnect` to cancel/close the reconnect attempt\n\n      if (stopped) {\n        return;\n      } // Unless we've explicitly stopped the ES (in which case `stopped` should be true),\n      // we should never be in a disconnected state. By default, EventSource will reconnect\n      // automatically, in which case it sets readyState to `CONNECTING`, but in some cases\n      // (like when a laptop lid is closed), it closes the connection. In these cases we need\n      // to explicitly reconnect.\n\n\n      if (es.readyState === EventSource.CLOSED) {\n        unsubscribe();\n        clearTimeout(reconnectTimer);\n        reconnectTimer = setTimeout(open, 100);\n      }\n    }\n\n    function onChannelError(err) {\n      observer.error(cooerceError(err));\n    }\n\n    function onMessage(evt) {\n      var event = parseEvent(evt);\n      return event instanceof Error ? observer.error(event) : observer.next(event);\n    }\n\n    function onDisconnect(evt) {\n      stopped = true;\n      unsubscribe();\n      observer.complete();\n    }\n\n    function unsubscribe() {\n      es.removeEventListener('error', onError, false);\n      es.removeEventListener('channelError', onChannelError, false);\n      es.removeEventListener('disconnect', onDisconnect, false);\n      listenFor.forEach(function (type) {\n        return es.removeEventListener(type, onMessage, false);\n      });\n      es.close();\n    }\n\n    function emitReconnect() {\n      if (shouldEmitReconnect) {\n        observer.next({\n          type: 'reconnect'\n        });\n      }\n    }\n\n    function getEventSource() {\n      var evs = new EventSource(uri, esOptions);\n      evs.addEventListener('error', onError, false);\n      evs.addEventListener('channelError', onChannelError, false);\n      evs.addEventListener('disconnect', onDisconnect, false);\n      listenFor.forEach(function (type) {\n        return evs.addEventListener(type, onMessage, false);\n      });\n      return evs;\n    }\n\n    function open() {\n      es = getEventSource();\n    }\n\n    function stop() {\n      stopped = true;\n      unsubscribe();\n    }\n\n    return stop;\n  });\n};\n\nfunction parseEvent(event) {\n  try {\n    var data = event.data && JSON.parse(event.data) || {};\n    return assign({\n      type: event.type\n    }, data);\n  } catch (err) {\n    return err;\n  }\n}\n\nfunction cooerceError(err) {\n  if (err instanceof Error) {\n    return err;\n  }\n\n  var evt = parseEvent(err);\n  return evt instanceof Error ? evt : new Error(extractErrorMessage(evt));\n}\n\nfunction extractErrorMessage(err) {\n  if (!err.error) {\n    return err.message || 'Unknown listener error';\n  }\n\n  if (err.error.description) {\n    return err.error.description;\n  }\n\n  return typeof err.error === 'string' ? err.error : JSON.stringify(err.error, null, 2);\n}","\"use strict\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar assign = require('object-assign');\n\nvar _require = require('@sanity/observable/operators/filter'),\n    filter = _require.filter;\n\nvar _require2 = require('@sanity/observable/operators/map'),\n    map = _require2.map;\n\nvar validators = require('../validators');\n\nvar getSelection = require('../util/getSelection');\n\nvar encodeQueryString = require('./encodeQueryString');\n\nvar Transaction = require('./transaction');\n\nvar Patch = require('./patch');\n\nvar listen = require('./listen');\n\nvar excludeFalsey = function excludeFalsey(param, defValue) {\n  var value = typeof param === 'undefined' ? defValue : param;\n  return param === false ? undefined : value;\n};\n\nvar getMutationQuery = function getMutationQuery() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return {\n    returnIds: true,\n    returnDocuments: excludeFalsey(options.returnDocuments, true),\n    visibility: options.visibility || 'sync'\n  };\n};\n\nvar isResponse = function isResponse(event) {\n  return event.type === 'response';\n};\n\nvar getBody = function getBody(event) {\n  return event.body;\n};\n\nvar toPromise = function toPromise(observable) {\n  return observable.toPromise();\n};\n\nvar getQuerySizeLimit = 11264;\nmodule.exports = {\n  listen: listen,\n  getDataUrl: function getDataUrl(operation, path) {\n    var config = this.clientConfig;\n    var catalog = config.gradientMode ? config.namespace : validators.hasDataset(config);\n    var baseUri = \"/\".concat(operation, \"/\").concat(catalog);\n    var uri = path ? \"\".concat(baseUri, \"/\").concat(path) : baseUri;\n    return (this.clientConfig.gradientMode ? uri : \"/data\".concat(uri)).replace(/\\/($|\\?)/, '$1');\n  },\n  fetch: function fetch(query, params) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var mapResponse = options.filterResponse === false ? function (res) {\n      return res;\n    } : function (res) {\n      return res.result;\n    };\n\n    var observable = this._dataRequest('query', {\n      query: query,\n      params: params\n    }).pipe(map(mapResponse));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  },\n  getDocument: function getDocument(id) {\n    var options = {\n      uri: this.getDataUrl('doc', id),\n      json: true\n    };\n\n    var observable = this._requestObservable(options).pipe(filter(isResponse), map(function (event) {\n      return event.body.documents && event.body.documents[0];\n    }));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  },\n  create: function create(doc, options) {\n    return this._create(doc, 'create', options);\n  },\n  createIfNotExists: function createIfNotExists(doc, options) {\n    validators.requireDocumentId('createIfNotExists', doc);\n    return this._create(doc, 'createIfNotExists', options);\n  },\n  createOrReplace: function createOrReplace(doc, options) {\n    validators.requireDocumentId('createOrReplace', doc);\n    return this._create(doc, 'createOrReplace', options);\n  },\n  patch: function patch(selector, operations) {\n    return new Patch(selector, operations, this);\n  },\n  delete: function _delete(selection, options) {\n    return this.dataRequest('mutate', {\n      mutations: [{\n        delete: getSelection(selection)\n      }]\n    }, options);\n  },\n  mutate: function mutate(mutations, options) {\n    var mut = mutations instanceof Patch || mutations instanceof Transaction ? mutations.serialize() : mutations;\n    var muts = Array.isArray(mut) ? mut : [mut];\n    var transactionId = options && options.transactionId;\n    return this.dataRequest('mutate', {\n      mutations: muts,\n      transactionId: transactionId\n    }, options);\n  },\n  transaction: function transaction(operations) {\n    return new Transaction(operations, this);\n  },\n  dataRequest: function dataRequest(endpoint, body) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    var request = this._dataRequest(endpoint, body, options);\n\n    return this.isPromiseAPI() ? toPromise(request) : request;\n  },\n  _dataRequest: function _dataRequest(endpoint, body) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var isMutation = endpoint === 'mutate'; // Check if the query string is within a configured threshold,\n    // in which case we can use GET. Otherwise, use POST.\n\n    var strQuery = !isMutation && encodeQueryString(body);\n    var useGet = !isMutation && strQuery.length < getQuerySizeLimit;\n    var stringQuery = useGet ? strQuery : '';\n    var returnFirst = options.returnFirst;\n    var uri = this.getDataUrl(endpoint, stringQuery);\n    var reqOptions = {\n      method: useGet ? 'GET' : 'POST',\n      uri: uri,\n      json: true,\n      body: useGet ? undefined : body,\n      query: isMutation && getMutationQuery(options)\n    };\n    return this._requestObservable(reqOptions).pipe(filter(isResponse), map(getBody), map(function (res) {\n      if (!isMutation) {\n        return res;\n      } // Should we return documents?\n\n\n      var results = res.results || [];\n\n      if (options.returnDocuments) {\n        return returnFirst ? results[0] && results[0].document : results.map(function (mut) {\n          return mut.document;\n        });\n      } // Return a reduced subset\n\n\n      var key = returnFirst ? 'documentId' : 'documentIds';\n      var ids = returnFirst ? results[0] && results[0].id : results.map(function (mut) {\n        return mut.id;\n      });\n      return _defineProperty({\n        transactionId: res.transactionId,\n        results: results\n      }, key, ids);\n    }));\n  },\n  _create: function _create(doc, op) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    var mutation = _defineProperty({}, op, doc);\n\n    var opts = assign({\n      returnFirst: true,\n      returnDocuments: true\n    }, options);\n    return this.dataRequest('mutate', {\n      mutations: [mutation]\n    }, opts);\n  }\n};","\"use strict\";\n\nvar assign = require('object-assign');\n\nvar validate = require('../validators');\n\nfunction DatasetsClient(client) {\n  this.request = client.request.bind(client);\n}\n\nassign(DatasetsClient.prototype, {\n  create: function create(name, options) {\n    return this._modify('PUT', name, options);\n  },\n  edit: function edit(name, options) {\n    return this._modify('PATCH', name, options);\n  },\n  delete: function _delete(name) {\n    return this._modify('DELETE', name);\n  },\n  list: function list() {\n    return this.request({\n      uri: '/datasets'\n    });\n  },\n  _modify: function _modify(method, name, body) {\n    validate.dataset(name);\n    return this.request({\n      method: method,\n      uri: \"/datasets/\".concat(name),\n      body: body\n    });\n  }\n});\nmodule.exports = DatasetsClient;","\"use strict\";\n\nvar assign = require('object-assign');\n\nfunction ProjectsClient(client) {\n  this.client = client;\n}\n\nassign(ProjectsClient.prototype, {\n  list: function list() {\n    return this.client.request({\n      uri: '/projects'\n    });\n  },\n  getById: function getById(id) {\n    return this.client.request({\n      uri: \"/projects/\".concat(id)\n    });\n  }\n});\nmodule.exports = ProjectsClient;","\"use strict\";\n\nmodule.exports = function (params) {\n  var qs = [];\n\n  for (var key in params) {\n    if (params.hasOwnProperty(key)) {\n      qs.push(\"\".concat(encodeURIComponent(key), \"=\").concat(encodeURIComponent(params[key])));\n    }\n  }\n\n  return qs.length > 0 ? \"?\".concat(qs.join('&')) : '';\n};","\"use strict\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar assign = require('object-assign');\n\nvar _require = require('@sanity/observable/operators/map'),\n    map = _require.map;\n\nvar _require2 = require('@sanity/observable/operators/filter'),\n    filter = _require2.filter;\n\nvar queryString = require('../http/queryString');\n\nvar validators = require('../validators');\n\nfunction AssetsClient(client) {\n  this.client = client;\n}\n\nfunction toDocument(body) {\n  // todo: rewrite to just return body.document in a while\n  var document = body.document;\n  Object.defineProperty(document, 'document', {\n    enumerable: false,\n    get: function get() {\n      // eslint-disable-next-line no-console\n      console.warn('The promise returned from client.asset.upload(...) now resolves with the asset document');\n      return document;\n    }\n  });\n  return document;\n}\n\nfunction optionsFromFile(opts, file) {\n  if (typeof window === 'undefined' || !(file instanceof window.File)) {\n    return opts;\n  }\n\n  return assign({\n    filename: opts.preserveFilename === false ? undefined : file.name,\n    contentType: file.type\n  }, opts);\n}\n\nassign(AssetsClient.prototype, {\n  /**\n   * Upload an asset\n   *\n   * @param  {String} assetType `image` or `file`\n   * @param  {File|Blob|Buffer|ReadableStream} body File to upload\n   * @param  {Object}  opts Options for the upload\n   * @param  {Boolean} opts.preserveFilename Whether or not to preserve the original filename (default: true)\n   * @param  {String}  opts.filename Filename for this file (optional)\n   * @param  {Number}  opts.timeout  Milliseconds to wait before timing the request out (default: 0)\n   * @param  {String}  opts.contentType Mime type of the file\n   * @param  {Array}   opts.extract Array of metadata parts to extract from image.\n   *                                 Possible values: `location`, `exif`, `image`, `palette`\n   * @return {Promise} Resolves with the created asset document\n   */\n  upload: function upload(assetType, body) {\n    var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    validators.validateAssetType(assetType); // If an empty array is given, explicitly set `none` to override API defaults\n\n    var meta = opts.extract || undefined;\n\n    if (meta && !meta.length) {\n      meta = ['none'];\n    }\n\n    var dataset = validators.hasDataset(this.client.clientConfig);\n    var assetEndpoint = assetType === 'image' ? 'images' : 'files';\n    var options = optionsFromFile(opts, body);\n    var label = options.label,\n        filename = options.filename;\n    var query = {\n      label: label,\n      filename: filename,\n      meta: meta\n    };\n\n    var observable = this.client._requestObservable({\n      method: 'POST',\n      timeout: options.timeout || 0,\n      uri: \"/assets/\".concat(assetEndpoint, \"/\").concat(dataset),\n      headers: options.contentType ? {\n        'Content-Type': options.contentType\n      } : {},\n      query: query,\n      body: body\n    });\n\n    return this.client.isPromiseAPI() ? observable.pipe(filter(function (event) {\n      return event.type === 'response';\n    }), map(function (event) {\n      return toDocument(event.body);\n    })).toPromise() : observable;\n  },\n  delete: function _delete(type, id) {\n    // eslint-disable-next-line no-console\n    console.warn('client.assets.delete() is deprecated, please use client.delete(<document-id>)');\n    var docId = id || '';\n\n    if (!/^(image|file)-/.test(docId)) {\n      docId = \"\".concat(type, \"-\").concat(docId);\n    } else if (type._id) {\n      // We could be passing an entire asset document instead of an ID\n      docId = type._id;\n    }\n\n    validators.hasDataset(this.client.clientConfig);\n    return this.client.delete(docId);\n  },\n  getImageUrl: function getImageUrl(ref, query) {\n    var id = ref._ref || ref;\n\n    if (typeof id !== 'string') {\n      throw new Error('getImageUrl() needs either an object with a _ref, or a string with an asset document ID');\n    }\n\n    if (!/^image-[A-Za-z0-9_]+-\\d+x\\d+-[a-z]{1,5}$/.test(id)) {\n      throw new Error(\"Unsupported asset ID \\\"\".concat(id, \"\\\". URL generation only works for auto-generated IDs.\"));\n    }\n\n    var _id$split = id.split('-'),\n        _id$split2 = _slicedToArray(_id$split, 4),\n        assetId = _id$split2[1],\n        size = _id$split2[2],\n        format = _id$split2[3];\n\n    validators.hasDataset(this.client.clientConfig);\n    var _this$client$clientCo = this.client.clientConfig,\n        projectId = _this$client$clientCo.projectId,\n        dataset = _this$client$clientCo.dataset;\n    var qs = query ? queryString(query) : '';\n    return \"https://cdn.sanity.io/images/\".concat(projectId, \"/\").concat(dataset, \"/\").concat(assetId, \"-\").concat(size, \".\").concat(format).concat(qs);\n  }\n});\nmodule.exports = AssetsClient;","\"use strict\";\n\nvar assign = require('object-assign');\n\nfunction UsersClient(client) {\n  this.client = client;\n}\n\nassign(UsersClient.prototype, {\n  getById: function getById(id) {\n    return this.client.request({\n      uri: \"/users/\".concat(id)\n    });\n  }\n});\nmodule.exports = UsersClient;","\"use strict\";\n\nvar assign = require('object-assign');\n\nfunction AuthClient(client) {\n  this.client = client;\n}\n\nassign(AuthClient.prototype, {\n  getLoginProviders: function getLoginProviders() {\n    return this.client.request({\n      uri: '/auth/providers'\n    });\n  },\n  logout: function logout() {\n    return this.client.request({\n      uri: '/auth/logout',\n      method: 'POST'\n    });\n  }\n});\nmodule.exports = AuthClient;","module.exports = function Pubsub() {\n  var subscribers = []\n  return {\n    subscribe: subscribe,\n    publish: publish\n  }\n  function subscribe(subscriber) {\n    subscribers.push(subscriber)\n    return function unsubscribe() {\n      var idx = subscribers.indexOf(subscriber)\n      if (idx > -1) {\n        subscribers.splice(idx, 1)\n      }\n    }\n  }\n  function publish() {\n    for (var i = 0; i < subscribers.length; i++) {\n      subscribers[i].apply(null, arguments)\n    }\n  }\n}","module.exports = middleware => {\n  const applyMiddleware = (hook, defaultValue, ...args) => {\n    return middleware[hook].reduce((value, handler) => {\n      return handler(value, ...args)\n    }, defaultValue)\n  }\n\n  return applyMiddleware\n}\n","'use strict';\n\n/**\n * Check if we're required to add a port number.\n *\n * @see https://url.spec.whatwg.org/#default-port\n * @param {Number|String} port Port number we need to check\n * @param {String} protocol Protocol we need to check against.\n * @returns {Boolean} Is it a default port for the given protocol\n * @api private\n */\nmodule.exports = function required(port, protocol) {\n  protocol = protocol.split(':')[0];\n  port = +port;\n\n  if (!port) return false;\n\n  switch (protocol) {\n    case 'http':\n    case 'ws':\n    return port !== 80;\n\n    case 'https':\n    case 'wss':\n    return port !== 443;\n\n    case 'ftp':\n    return port !== 21;\n\n    case 'gopher':\n    return port !== 70;\n\n    case 'file':\n    return false;\n  }\n\n  return port !== 0;\n};\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , undef;\n\n/**\n * Decode a URI encoded string.\n *\n * @param {String} input The URI encoded string.\n * @returns {String} The decoded string.\n * @api private\n */\nfunction decode(input) {\n  return decodeURIComponent(input.replace(/\\+/g, ' '));\n}\n\n/**\n * Simple query string parser.\n *\n * @param {String} query The query string that needs to be parsed.\n * @returns {Object}\n * @api public\n */\nfunction querystring(query) {\n  var parser = /([^=?&]+)=?([^&]*)/g\n    , result = {}\n    , part;\n\n  while (part = parser.exec(query)) {\n    var key = decode(part[1])\n      , value = decode(part[2]);\n\n    //\n    // Prevent overriding of existing properties. This ensures that build-in\n    // methods like `toString` or __proto__ are not overriden by malicious\n    // querystrings.\n    //\n    if (key in result) continue;\n    result[key] = value;\n  }\n\n  return result;\n}\n\n/**\n * Transform a query string to an object.\n *\n * @param {Object} obj Object that should be transformed.\n * @param {String} prefix Optional prefix.\n * @returns {String}\n * @api public\n */\nfunction querystringify(obj, prefix) {\n  prefix = prefix || '';\n\n  var pairs = []\n    , value\n    , key;\n\n  //\n  // Optionally prefix with a '?' if needed\n  //\n  if ('string' !== typeof prefix) prefix = '?';\n\n  for (key in obj) {\n    if (has.call(obj, key)) {\n      value = obj[key];\n\n      //\n      // Edge cases where we actually want to encode the value to an empty\n      // string instead of the stringified value.\n      //\n      if (!value && (value === null || value === undef || isNaN(value))) {\n        value = '';\n      }\n\n      pairs.push(encodeURIComponent(key) +'='+ encodeURIComponent(value));\n    }\n  }\n\n  return pairs.length ? prefix + pairs.join('&') : '';\n}\n\n//\n// Expose the module.\n//\nexports.stringify = querystringify;\nexports.parse = querystring;\n","'use strict';\n\nvar required = require('requires-port')\n  , qs = require('querystringify')\n  , protocolre = /^([a-z][a-z0-9.+-]*:)?(\\/\\/)?([\\S\\s]*)/i\n  , slashes = /^[A-Za-z][A-Za-z0-9+-.]*:\\/\\//;\n\n/**\n * These are the parse rules for the URL parser, it informs the parser\n * about:\n *\n * 0. The char it Needs to parse, if it's a string it should be done using\n *    indexOf, RegExp using exec and NaN means set as current value.\n * 1. The property we should set when parsing this value.\n * 2. Indication if it's backwards or forward parsing, when set as number it's\n *    the value of extra chars that should be split off.\n * 3. Inherit from location if non existing in the parser.\n * 4. `toLowerCase` the resulting value.\n */\nvar rules = [\n  ['#', 'hash'],                        // Extract from the back.\n  ['?', 'query'],                       // Extract from the back.\n  function sanitize(address) {          // Sanitize what is left of the address\n    return address.replace('\\\\', '/');\n  },\n  ['/', 'pathname'],                    // Extract from the back.\n  ['@', 'auth', 1],                     // Extract from the front.\n  [NaN, 'host', undefined, 1, 1],       // Set left over value.\n  [/:(\\d+)$/, 'port', undefined, 1],    // RegExp the back.\n  [NaN, 'hostname', undefined, 1, 1]    // Set left over.\n];\n\n/**\n * These properties should not be copied or inherited from. This is only needed\n * for all non blob URL's as a blob URL does not include a hash, only the\n * origin.\n *\n * @type {Object}\n * @private\n */\nvar ignore = { hash: 1, query: 1 };\n\n/**\n * The location object differs when your code is loaded through a normal page,\n * Worker or through a worker using a blob. And with the blobble begins the\n * trouble as the location object will contain the URL of the blob, not the\n * location of the page where our code is loaded in. The actual origin is\n * encoded in the `pathname` so we can thankfully generate a good \"default\"\n * location from it so we can generate proper relative URL's again.\n *\n * @param {Object|String} loc Optional default location object.\n * @returns {Object} lolcation object.\n * @public\n */\nfunction lolcation(loc) {\n  var globalVar;\n\n  if (typeof window !== 'undefined') globalVar = window;\n  else if (typeof global !== 'undefined') globalVar = global;\n  else if (typeof self !== 'undefined') globalVar = self;\n  else globalVar = {};\n\n  var location = globalVar.location || {};\n  loc = loc || location;\n\n  var finaldestination = {}\n    , type = typeof loc\n    , key;\n\n  if ('blob:' === loc.protocol) {\n    finaldestination = new Url(unescape(loc.pathname), {});\n  } else if ('string' === type) {\n    finaldestination = new Url(loc, {});\n    for (key in ignore) delete finaldestination[key];\n  } else if ('object' === type) {\n    for (key in loc) {\n      if (key in ignore) continue;\n      finaldestination[key] = loc[key];\n    }\n\n    if (finaldestination.slashes === undefined) {\n      finaldestination.slashes = slashes.test(loc.href);\n    }\n  }\n\n  return finaldestination;\n}\n\n/**\n * @typedef ProtocolExtract\n * @type Object\n * @property {String} protocol Protocol matched in the URL, in lowercase.\n * @property {Boolean} slashes `true` if protocol is followed by \"//\", else `false`.\n * @property {String} rest Rest of the URL that is not part of the protocol.\n */\n\n/**\n * Extract protocol information from a URL with/without double slash (\"//\").\n *\n * @param {String} address URL we want to extract from.\n * @return {ProtocolExtract} Extracted information.\n * @private\n */\nfunction extractProtocol(address) {\n  var match = protocolre.exec(address);\n\n  return {\n    protocol: match[1] ? match[1].toLowerCase() : '',\n    slashes: !!match[2],\n    rest: match[3]\n  };\n}\n\n/**\n * Resolve a relative URL pathname against a base URL pathname.\n *\n * @param {String} relative Pathname of the relative URL.\n * @param {String} base Pathname of the base URL.\n * @return {String} Resolved pathname.\n * @private\n */\nfunction resolve(relative, base) {\n  var path = (base || '/').split('/').slice(0, -1).concat(relative.split('/'))\n    , i = path.length\n    , last = path[i - 1]\n    , unshift = false\n    , up = 0;\n\n  while (i--) {\n    if (path[i] === '.') {\n      path.splice(i, 1);\n    } else if (path[i] === '..') {\n      path.splice(i, 1);\n      up++;\n    } else if (up) {\n      if (i === 0) unshift = true;\n      path.splice(i, 1);\n      up--;\n    }\n  }\n\n  if (unshift) path.unshift('');\n  if (last === '.' || last === '..') path.push('');\n\n  return path.join('/');\n}\n\n/**\n * The actual URL instance. Instead of returning an object we've opted-in to\n * create an actual constructor as it's much more memory efficient and\n * faster and it pleases my OCD.\n *\n * It is worth noting that we should not use `URL` as class name to prevent\n * clashes with the global URL instance that got introduced in browsers.\n *\n * @constructor\n * @param {String} address URL we want to parse.\n * @param {Object|String} [location] Location defaults for relative paths.\n * @param {Boolean|Function} [parser] Parser for the query string.\n * @private\n */\nfunction Url(address, location, parser) {\n  if (!(this instanceof Url)) {\n    return new Url(address, location, parser);\n  }\n\n  var relative, extracted, parse, instruction, index, key\n    , instructions = rules.slice()\n    , type = typeof location\n    , url = this\n    , i = 0;\n\n  //\n  // The following if statements allows this module two have compatibility with\n  // 2 different API:\n  //\n  // 1. Node.js's `url.parse` api which accepts a URL, boolean as arguments\n  //    where the boolean indicates that the query string should also be parsed.\n  //\n  // 2. The `URL` interface of the browser which accepts a URL, object as\n  //    arguments. The supplied object will be used as default values / fall-back\n  //    for relative paths.\n  //\n  if ('object' !== type && 'string' !== type) {\n    parser = location;\n    location = null;\n  }\n\n  if (parser && 'function' !== typeof parser) parser = qs.parse;\n\n  location = lolcation(location);\n\n  //\n  // Extract protocol information before running the instructions.\n  //\n  extracted = extractProtocol(address || '');\n  relative = !extracted.protocol && !extracted.slashes;\n  url.slashes = extracted.slashes || relative && location.slashes;\n  url.protocol = extracted.protocol || location.protocol || '';\n  address = extracted.rest;\n\n  //\n  // When the authority component is absent the URL starts with a path\n  // component.\n  //\n  if (!extracted.slashes) instructions[3] = [/(.*)/, 'pathname'];\n\n  for (; i < instructions.length; i++) {\n    instruction = instructions[i];\n\n    if (typeof instruction === 'function') {\n      address = instruction(address);\n      continue;\n    }\n\n    parse = instruction[0];\n    key = instruction[1];\n\n    if (parse !== parse) {\n      url[key] = address;\n    } else if ('string' === typeof parse) {\n      if (~(index = address.indexOf(parse))) {\n        if ('number' === typeof instruction[2]) {\n          url[key] = address.slice(0, index);\n          address = address.slice(index + instruction[2]);\n        } else {\n          url[key] = address.slice(index);\n          address = address.slice(0, index);\n        }\n      }\n    } else if ((index = parse.exec(address))) {\n      url[key] = index[1];\n      address = address.slice(0, index.index);\n    }\n\n    url[key] = url[key] || (\n      relative && instruction[3] ? location[key] || '' : ''\n    );\n\n    //\n    // Hostname, host and protocol should be lowercased so they can be used to\n    // create a proper `origin`.\n    //\n    if (instruction[4]) url[key] = url[key].toLowerCase();\n  }\n\n  //\n  // Also parse the supplied query string in to an object. If we're supplied\n  // with a custom parser as function use that instead of the default build-in\n  // parser.\n  //\n  if (parser) url.query = parser(url.query);\n\n  //\n  // If the URL is relative, resolve the pathname against the base URL.\n  //\n  if (\n      relative\n    && location.slashes\n    && url.pathname.charAt(0) !== '/'\n    && (url.pathname !== '' || location.pathname !== '')\n  ) {\n    url.pathname = resolve(url.pathname, location.pathname);\n  }\n\n  //\n  // We should not add port numbers if they are already the default port number\n  // for a given protocol. As the host also contains the port number we're going\n  // override it with the hostname which contains no port number.\n  //\n  if (!required(url.port, url.protocol)) {\n    url.host = url.hostname;\n    url.port = '';\n  }\n\n  //\n  // Parse down the `auth` for the username and password.\n  //\n  url.username = url.password = '';\n  if (url.auth) {\n    instruction = url.auth.split(':');\n    url.username = instruction[0] || '';\n    url.password = instruction[1] || '';\n  }\n\n  url.origin = url.protocol && url.host && url.protocol !== 'file:'\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  //\n  // The href is just the compiled result.\n  //\n  url.href = url.toString();\n}\n\n/**\n * This is convenience method for changing properties in the URL instance to\n * insure that they all propagate correctly.\n *\n * @param {String} part          Property we need to adjust.\n * @param {Mixed} value          The newly assigned value.\n * @param {Boolean|Function} fn  When setting the query, it will be the function\n *                               used to parse the query.\n *                               When setting the protocol, double slash will be\n *                               removed from the final url if it is true.\n * @returns {URL} URL instance for chaining.\n * @public\n */\nfunction set(part, value, fn) {\n  var url = this;\n\n  switch (part) {\n    case 'query':\n      if ('string' === typeof value && value.length) {\n        value = (fn || qs.parse)(value);\n      }\n\n      url[part] = value;\n      break;\n\n    case 'port':\n      url[part] = value;\n\n      if (!required(value, url.protocol)) {\n        url.host = url.hostname;\n        url[part] = '';\n      } else if (value) {\n        url.host = url.hostname +':'+ value;\n      }\n\n      break;\n\n    case 'hostname':\n      url[part] = value;\n\n      if (url.port) value += ':'+ url.port;\n      url.host = value;\n      break;\n\n    case 'host':\n      url[part] = value;\n\n      if (/:\\d+$/.test(value)) {\n        value = value.split(':');\n        url.port = value.pop();\n        url.hostname = value.join(':');\n      } else {\n        url.hostname = value;\n        url.port = '';\n      }\n\n      break;\n\n    case 'protocol':\n      url.protocol = value.toLowerCase();\n      url.slashes = !fn;\n      break;\n\n    case 'pathname':\n    case 'hash':\n      if (value) {\n        var char = part === 'pathname' ? '/' : '#';\n        url[part] = value.charAt(0) !== char ? char + value : value;\n      } else {\n        url[part] = value;\n      }\n      break;\n\n    default:\n      url[part] = value;\n  }\n\n  for (var i = 0; i < rules.length; i++) {\n    var ins = rules[i];\n\n    if (ins[4]) url[ins[1]] = url[ins[1]].toLowerCase();\n  }\n\n  url.origin = url.protocol && url.host && url.protocol !== 'file:'\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  url.href = url.toString();\n\n  return url;\n}\n\n/**\n * Transform the properties back in to a valid and full URL string.\n *\n * @param {Function} stringify Optional query stringify function.\n * @returns {String} Compiled version of the URL.\n * @public\n */\nfunction toString(stringify) {\n  if (!stringify || 'function' !== typeof stringify) stringify = qs.stringify;\n\n  var query\n    , url = this\n    , protocol = url.protocol;\n\n  if (protocol && protocol.charAt(protocol.length - 1) !== ':') protocol += ':';\n\n  var result = protocol + (url.slashes ? '//' : '');\n\n  if (url.username) {\n    result += url.username;\n    if (url.password) result += ':'+ url.password;\n    result += '@';\n  }\n\n  result += url.host + url.pathname;\n\n  query = 'object' === typeof url.query ? stringify(url.query) : url.query;\n  if (query) result += '?' !== query.charAt(0) ? '?'+ query : query;\n\n  if (url.hash) result += url.hash;\n\n  return result;\n}\n\nUrl.prototype = { set: set, toString: toString };\n\n//\n// Expose the URL parser and some additional properties that might be useful for\n// others or testing.\n//\nUrl.extractProtocol = extractProtocol;\nUrl.location = lolcation;\nUrl.qs = qs;\n\nmodule.exports = Url;\n","const objectAssign = require('object-assign')\nconst urlParse = require('url-parse')\n\nconst isReactNative = typeof navigator === 'undefined'\n  ? false\n  : navigator.product === 'ReactNative'\n\nconst has = Object.prototype.hasOwnProperty\nconst defaultOptions = {timeout: isReactNative ? 60000 : 120000}\n\nmodule.exports = opts => {\n  const options = typeof opts === 'string'\n    ? objectAssign({url: opts}, defaultOptions)\n    : objectAssign({}, defaultOptions, opts)\n\n  // Parse URL into parts\n  const url = urlParse(\n    options.url,\n    {}, // Don't use current browser location\n    true // Parse query strings\n  )\n\n  // Normalize timeouts\n  options.timeout = normalizeTimeout(options.timeout)\n\n  // Shallow-merge (override) existing query params\n  if (options.query) {\n    url.query = objectAssign({}, url.query, removeUndefined(options.query))\n  }\n\n  // Implicit POST if we have not specified a method but have a body\n  options.method = (options.body && !options.method)\n    ? 'POST'\n    : (options.method || 'GET').toUpperCase()\n\n  // Stringify URL\n  options.url = url.toString(stringifyQueryString)\n\n  return options\n}\n\nfunction stringifyQueryString(obj) {\n  const pairs = []\n  for (const key in obj) {\n    if (has.call(obj, key)) {\n      push(key, obj[key])\n    }\n  }\n\n  return pairs.length ? pairs.join('&') : ''\n\n  function push(key, val) {\n    if (Array.isArray(val)) {\n      val.forEach(item => push(key, item))\n    } else {\n      pairs.push([key, val].map(encodeURIComponent).join('='))\n    }\n  }\n}\n\nfunction normalizeTimeout(time) {\n  if (time === false || time === 0) {\n    return false\n  }\n\n  if (time.connect || time.socket) {\n    return time\n  }\n\n  const delay = Number(time)\n  if (isNaN(delay)) {\n    return normalizeTimeout(defaultOptions.timeout)\n  }\n\n  return {connect: delay, socket: delay}\n}\n\nfunction removeUndefined(obj) {\n  const target = {}\n  for (const key in obj) {\n    if (obj[key] !== undefined) {\n      target[key] = obj[key]\n    }\n  }\n  return target\n}\n","const validUrl = /^https?:\\/\\//i\n\nmodule.exports = options => {\n  if (!validUrl.test(options.url)) {\n    throw new Error(`\"${options.url}\" is not a valid URL`)\n  }\n}\n","/**\n * This file is only used for the browser version of `same-origin`.\n * Used to bring down the size of the browser bundle.\n */\n'use strict';\n\nvar regex = /^(?:(?:(?:([^:\\/#\\?]+:)?(?:(?:\\/\\/)((?:((?:[^:@\\/#\\?]+)(?:\\:(?:[^:@\\/#\\?]+))?)@)?(([^:\\/#\\?\\]\\[]+|\\[[^\\/\\]@#?]+\\])(?:\\:([0-9]+))?))?)?)?((?:\\/?(?:[^\\/\\?#]+\\/+)*)(?:[^\\?#]*)))?(\\?[^#]+)?)(#.*)?/;\n\nmodule.exports = {\n    regex: regex,\n    parse: function(url) {\n        var match = regex.exec(url);\n        if (!match) {\n            return {};\n        }\n\n        return {\n            protocol: (match[1] || '').toLowerCase() || undefined,\n            hostname: (match[5] || '').toLowerCase() || undefined,\n            port: match[6] || undefined\n        };\n    }\n};","'use strict';\n\nvar url = require('url');\n\nmodule.exports = function(uri1, uri2, ieMode) {\n    if (uri1 === uri2) {\n        return true;\n    }\n\n    var url1 = url.parse(uri1, false, true);\n    var url2 = url.parse(uri2, false, true);\n\n    var url1Port = url1.port|0 || (url1.protocol === 'https' ? 443 : 80);\n    var url2Port = url2.port|0 || (url2.protocol === 'https' ? 443 : 80);\n\n    var match = {\n        proto: url1.protocol === url2.protocol,\n        hostname: url1.hostname === url2.hostname,\n        port: url1Port === url2Port\n    };\n\n    return ((match.proto && match.hostname) && (match.port || ieMode));\n};","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        } else {\n            return target.apply(\n                that,\n                args.concat(slice.call(arguments))\n            );\n        }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n","'use strict';\n\nvar keysShim;\nif (!Object.keys) {\n\t// modified from https://github.com/es-shims/es5-shim\n\tvar has = Object.prototype.hasOwnProperty;\n\tvar toStr = Object.prototype.toString;\n\tvar isArgs = require('./isArguments'); // eslint-disable-line global-require\n\tvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\tvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\n\tvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\n\tvar dontEnums = [\n\t\t'toString',\n\t\t'toLocaleString',\n\t\t'valueOf',\n\t\t'hasOwnProperty',\n\t\t'isPrototypeOf',\n\t\t'propertyIsEnumerable',\n\t\t'constructor'\n\t];\n\tvar equalsConstructorPrototype = function (o) {\n\t\tvar ctor = o.constructor;\n\t\treturn ctor && ctor.prototype === o;\n\t};\n\tvar excludedKeys = {\n\t\t$applicationCache: true,\n\t\t$console: true,\n\t\t$external: true,\n\t\t$frame: true,\n\t\t$frameElement: true,\n\t\t$frames: true,\n\t\t$innerHeight: true,\n\t\t$innerWidth: true,\n\t\t$outerHeight: true,\n\t\t$outerWidth: true,\n\t\t$pageXOffset: true,\n\t\t$pageYOffset: true,\n\t\t$parent: true,\n\t\t$scrollLeft: true,\n\t\t$scrollTop: true,\n\t\t$scrollX: true,\n\t\t$scrollY: true,\n\t\t$self: true,\n\t\t$webkitIndexedDB: true,\n\t\t$webkitStorageInfo: true,\n\t\t$window: true\n\t};\n\tvar hasAutomationEqualityBug = (function () {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined') { return false; }\n\t\tfor (var k in window) {\n\t\t\ttry {\n\t\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}());\n\tvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t}\n\t\ttry {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tkeysShim = function keys(object) {\n\t\tvar isObject = object !== null && typeof object === 'object';\n\t\tvar isFunction = toStr.call(object) === '[object Function]';\n\t\tvar isArguments = isArgs(object);\n\t\tvar isString = isObject && toStr.call(object) === '[object String]';\n\t\tvar theKeys = [];\n\n\t\tif (!isObject && !isFunction && !isArguments) {\n\t\t\tthrow new TypeError('Object.keys called on a non-object');\n\t\t}\n\n\t\tvar skipProto = hasProtoEnumBug && isFunction;\n\t\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\t\ttheKeys.push(String(i));\n\t\t\t}\n\t\t}\n\n\t\tif (isArguments && object.length > 0) {\n\t\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\t\ttheKeys.push(String(j));\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var name in object) {\n\t\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\t\ttheKeys.push(String(name));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (hasDontEnumBug) {\n\t\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn theKeys;\n\t};\n}\nmodule.exports = keysShim;\n","'use strict';\n\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\n\nvar origKeys = Object.keys;\nvar keysShim = origKeys ? function keys(o) { return origKeys(o); } : require('./implementation');\n\nvar originalKeys = Object.keys;\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\tvar args = Object.keys(arguments);\n\t\t\treturn args && args.length === arguments.length;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tObject.keys = function keys(object) { // eslint-disable-line func-name-matching\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t}\n\t\t\t\treturn originalKeys(object);\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n","'use strict';\n\nvar keys = require('object-keys');\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol('foo') === 'symbol';\n\nvar toStr = Object.prototype.toString;\nvar concat = Array.prototype.concat;\nvar origDefineProperty = Object.defineProperty;\n\nvar isFunction = function (fn) {\n\treturn typeof fn === 'function' && toStr.call(fn) === '[object Function]';\n};\n\nvar arePropertyDescriptorsSupported = function () {\n\tvar obj = {};\n\ttry {\n\t\torigDefineProperty(obj, 'x', { enumerable: false, value: obj });\n\t\t// eslint-disable-next-line no-unused-vars, no-restricted-syntax\n\t\tfor (var _ in obj) { // jscs:ignore disallowUnusedVariables\n\t\t\treturn false;\n\t\t}\n\t\treturn obj.x === obj;\n\t} catch (e) { /* this is IE 8. */\n\t\treturn false;\n\t}\n};\nvar supportsDescriptors = origDefineProperty && arePropertyDescriptorsSupported();\n\nvar defineProperty = function (object, name, value, predicate) {\n\tif (name in object && (!isFunction(predicate) || !predicate())) {\n\t\treturn;\n\t}\n\tif (supportsDescriptors) {\n\t\torigDefineProperty(object, name, {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tvalue: value,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\tobject[name] = value;\n\t}\n};\n\nvar defineProperties = function (object, map) {\n\tvar predicates = arguments.length > 2 ? arguments[2] : {};\n\tvar props = keys(map);\n\tif (hasSymbols) {\n\t\tprops = concat.call(props, Object.getOwnPropertySymbols(map));\n\t}\n\tfor (var i = 0; i < props.length; i += 1) {\n\t\tdefineProperty(object, props[i], map[props[i]], predicates[props[i]]);\n\t}\n};\n\ndefineProperties.supportsDescriptors = !!supportsDescriptors;\n\nmodule.exports = defineProperties;\n","'use strict';\n\n/* globals\n\tSet,\n\tMap,\n\tWeakSet,\n\tWeakMap,\n\n\tPromise,\n\n\tSymbol,\n\tProxy,\n\n\tAtomics,\n\tSharedArrayBuffer,\n\n\tArrayBuffer,\n\tDataView,\n\tUint8Array,\n\tFloat32Array,\n\tFloat64Array,\n\tInt8Array,\n\tInt16Array,\n\tInt32Array,\n\tUint8ClampedArray,\n\tUint16Array,\n\tUint32Array,\n*/\n\nvar undefined; // eslint-disable-line no-shadow-restricted-names\n\nvar ThrowTypeError = Object.getOwnPropertyDescriptor\n\t? (function () { return Object.getOwnPropertyDescriptor(arguments, 'callee').get; }())\n\t: function () { throw new TypeError(); };\n\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol';\n\nvar getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto\n\nvar generator; // = function * () {};\nvar generatorFunction = generator ? getProto(generator) : undefined;\nvar asyncFn; // async function() {};\nvar asyncFunction = asyncFn ? asyncFn.constructor : undefined;\nvar asyncGen; // async function * () {};\nvar asyncGenFunction = asyncGen ? getProto(asyncGen) : undefined;\nvar asyncGenIterator = asyncGen ? asyncGen() : undefined;\n\nvar TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'$ %Array%': Array,\n\t'$ %ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'$ %ArrayBufferPrototype%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer.prototype,\n\t'$ %ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,\n\t'$ %ArrayPrototype%': Array.prototype,\n\t'$ %ArrayProto_entries%': Array.prototype.entries,\n\t'$ %ArrayProto_forEach%': Array.prototype.forEach,\n\t'$ %ArrayProto_keys%': Array.prototype.keys,\n\t'$ %ArrayProto_values%': Array.prototype.values,\n\t'$ %AsyncFromSyncIteratorPrototype%': undefined,\n\t'$ %AsyncFunction%': asyncFunction,\n\t'$ %AsyncFunctionPrototype%': asyncFunction ? asyncFunction.prototype : undefined,\n\t'$ %AsyncGenerator%': asyncGen ? getProto(asyncGenIterator) : undefined,\n\t'$ %AsyncGeneratorFunction%': asyncGenFunction,\n\t'$ %AsyncGeneratorPrototype%': asyncGenFunction ? asyncGenFunction.prototype : undefined,\n\t'$ %AsyncIteratorPrototype%': asyncGenIterator && hasSymbols && Symbol.asyncIterator ? asyncGenIterator[Symbol.asyncIterator]() : undefined,\n\t'$ %Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'$ %Boolean%': Boolean,\n\t'$ %BooleanPrototype%': Boolean.prototype,\n\t'$ %DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'$ %DataViewPrototype%': typeof DataView === 'undefined' ? undefined : DataView.prototype,\n\t'$ %Date%': Date,\n\t'$ %DatePrototype%': Date.prototype,\n\t'$ %decodeURI%': decodeURI,\n\t'$ %decodeURIComponent%': decodeURIComponent,\n\t'$ %encodeURI%': encodeURI,\n\t'$ %encodeURIComponent%': encodeURIComponent,\n\t'$ %Error%': Error,\n\t'$ %ErrorPrototype%': Error.prototype,\n\t'$ %eval%': eval, // eslint-disable-line no-eval\n\t'$ %EvalError%': EvalError,\n\t'$ %EvalErrorPrototype%': EvalError.prototype,\n\t'$ %Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'$ %Float32ArrayPrototype%': typeof Float32Array === 'undefined' ? undefined : Float32Array.prototype,\n\t'$ %Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'$ %Float64ArrayPrototype%': typeof Float64Array === 'undefined' ? undefined : Float64Array.prototype,\n\t'$ %Function%': Function,\n\t'$ %FunctionPrototype%': Function.prototype,\n\t'$ %Generator%': generator ? getProto(generator()) : undefined,\n\t'$ %GeneratorFunction%': generatorFunction,\n\t'$ %GeneratorPrototype%': generatorFunction ? generatorFunction.prototype : undefined,\n\t'$ %Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'$ %Int8ArrayPrototype%': typeof Int8Array === 'undefined' ? undefined : Int8Array.prototype,\n\t'$ %Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'$ %Int16ArrayPrototype%': typeof Int16Array === 'undefined' ? undefined : Int8Array.prototype,\n\t'$ %Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'$ %Int32ArrayPrototype%': typeof Int32Array === 'undefined' ? undefined : Int32Array.prototype,\n\t'$ %isFinite%': isFinite,\n\t'$ %isNaN%': isNaN,\n\t'$ %IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'$ %JSON%': JSON,\n\t'$ %JSONParse%': JSON.parse,\n\t'$ %Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'$ %MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'$ %MapPrototype%': typeof Map === 'undefined' ? undefined : Map.prototype,\n\t'$ %Math%': Math,\n\t'$ %Number%': Number,\n\t'$ %NumberPrototype%': Number.prototype,\n\t'$ %Object%': Object,\n\t'$ %ObjectPrototype%': Object.prototype,\n\t'$ %ObjProto_toString%': Object.prototype.toString,\n\t'$ %ObjProto_valueOf%': Object.prototype.valueOf,\n\t'$ %parseFloat%': parseFloat,\n\t'$ %parseInt%': parseInt,\n\t'$ %Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'$ %PromisePrototype%': typeof Promise === 'undefined' ? undefined : Promise.prototype,\n\t'$ %PromiseProto_then%': typeof Promise === 'undefined' ? undefined : Promise.prototype.then,\n\t'$ %Promise_all%': typeof Promise === 'undefined' ? undefined : Promise.all,\n\t'$ %Promise_reject%': typeof Promise === 'undefined' ? undefined : Promise.reject,\n\t'$ %Promise_resolve%': typeof Promise === 'undefined' ? undefined : Promise.resolve,\n\t'$ %Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'$ %RangeError%': RangeError,\n\t'$ %RangeErrorPrototype%': RangeError.prototype,\n\t'$ %ReferenceError%': ReferenceError,\n\t'$ %ReferenceErrorPrototype%': ReferenceError.prototype,\n\t'$ %Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'$ %RegExp%': RegExp,\n\t'$ %RegExpPrototype%': RegExp.prototype,\n\t'$ %Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'$ %SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'$ %SetPrototype%': typeof Set === 'undefined' ? undefined : Set.prototype,\n\t'$ %SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'$ %SharedArrayBufferPrototype%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer.prototype,\n\t'$ %String%': String,\n\t'$ %StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,\n\t'$ %StringPrototype%': String.prototype,\n\t'$ %Symbol%': hasSymbols ? Symbol : undefined,\n\t'$ %SymbolPrototype%': hasSymbols ? Symbol.prototype : undefined,\n\t'$ %SyntaxError%': SyntaxError,\n\t'$ %SyntaxErrorPrototype%': SyntaxError.prototype,\n\t'$ %ThrowTypeError%': ThrowTypeError,\n\t'$ %TypedArray%': TypedArray,\n\t'$ %TypedArrayPrototype%': TypedArray ? TypedArray.prototype : undefined,\n\t'$ %TypeError%': TypeError,\n\t'$ %TypeErrorPrototype%': TypeError.prototype,\n\t'$ %Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'$ %Uint8ArrayPrototype%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array.prototype,\n\t'$ %Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'$ %Uint8ClampedArrayPrototype%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray.prototype,\n\t'$ %Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'$ %Uint16ArrayPrototype%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array.prototype,\n\t'$ %Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'$ %Uint32ArrayPrototype%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array.prototype,\n\t'$ %URIError%': URIError,\n\t'$ %URIErrorPrototype%': URIError.prototype,\n\t'$ %WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'$ %WeakMapPrototype%': typeof WeakMap === 'undefined' ? undefined : WeakMap.prototype,\n\t'$ %WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,\n\t'$ %WeakSetPrototype%': typeof WeakSet === 'undefined' ? undefined : WeakSet.prototype\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tvar key = '$ ' + name;\n\tif (!(key in INTRINSICS)) {\n\t\tthrow new SyntaxError('intrinsic ' + name + ' does not exist!');\n\t}\n\n\t// istanbul ignore if // hopefully this is impossible to test :-)\n\tif (typeof INTRINSICS[key] === 'undefined' && !allowMissing) {\n\t\tthrow new TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t}\n\treturn INTRINSICS[key];\n};\n","'use strict';\n\nvar bind = require('function-bind');\n\nmodule.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);\n","'use strict';\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $SyntaxError = GetIntrinsic('%SyntaxError%');\n\nvar has = require('has');\n\nvar predicates = {\n  // https://ecma-international.org/ecma-262/6.0/#sec-property-descriptor-specification-type\n  'Property Descriptor': function isPropertyDescriptor(ES, Desc) {\n    if (ES.Type(Desc) !== 'Object') {\n      return false;\n    }\n    var allowed = {\n      '[[Configurable]]': true,\n      '[[Enumerable]]': true,\n      '[[Get]]': true,\n      '[[Set]]': true,\n      '[[Value]]': true,\n      '[[Writable]]': true\n    };\n\n    for (var key in Desc) { // eslint-disable-line\n      if (has(Desc, key) && !allowed[key]) {\n        return false;\n      }\n    }\n\n    var isData = has(Desc, '[[Value]]');\n    var IsAccessor = has(Desc, '[[Get]]') || has(Desc, '[[Set]]');\n    if (isData && IsAccessor) {\n      throw new $TypeError('Property Descriptors may not be both accessor and data descriptors');\n    }\n    return true;\n  }\n};\n\nmodule.exports = function assertRecord(ES, recordType, argumentName, value) {\n  var predicate = predicates[recordType];\n  if (typeof predicate !== 'function') {\n    throw new $SyntaxError('unknown record type: ' + recordType);\n  }\n  if (!predicate(ES, value)) {\n    throw new $TypeError(argumentName + ' must be a ' + recordType);\n  }\n  console.log(predicate(ES, value), value);\n};\n","module.exports = Number.isNaN || function isNaN(a) {\n\treturn a !== a;\n};\n","var $isNaN = Number.isNaN || function (a) { return a !== a; };\n\nmodule.exports = Number.isFinite || function (x) { return typeof x === 'number' && !$isNaN(x) && x !== Infinity && x !== -Infinity; };\n","module.exports = function sign(number) {\n\treturn number >= 0 ? 1 : -1;\n};\n","module.exports = function mod(number, modulo) {\n\tvar remain = number % modulo;\n\treturn Math.floor(remain >= 0 ? remain : remain + modulo);\n};\n","'use strict';\n\nvar fnToStr = Function.prototype.toString;\n\nvar constructorRegex = /^\\s*class\\b/;\nvar isES6ClassFn = function isES6ClassFunction(value) {\n\ttry {\n\t\tvar fnStr = fnToStr.call(value);\n\t\treturn constructorRegex.test(fnStr);\n\t} catch (e) {\n\t\treturn false; // not a function\n\t}\n};\n\nvar tryFunctionObject = function tryFunctionToStr(value) {\n\ttry {\n\t\tif (isES6ClassFn(value)) { return false; }\n\t\tfnToStr.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar fnClass = '[object Function]';\nvar genClass = '[object GeneratorFunction]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isCallable(value) {\n\tif (!value) { return false; }\n\tif (typeof value !== 'function' && typeof value !== 'object') { return false; }\n\tif (typeof value === 'function' && !value.prototype) { return true; }\n\tif (hasToStringTag) { return tryFunctionObject(value); }\n\tif (isES6ClassFn(value)) { return false; }\n\tvar strClass = toStr.call(value);\n\treturn strClass === fnClass || strClass === genClass;\n};\n","module.exports = function isPrimitive(value) {\n\treturn value === null || (typeof value !== 'function' && typeof value !== 'object');\n};\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nvar isPrimitive = require('./helpers/isPrimitive');\n\nvar isCallable = require('is-callable');\n\n// http://ecma-international.org/ecma-262/5.1/#sec-8.12.8\nvar ES5internalSlots = {\n\t'[[DefaultValue]]': function (O) {\n\t\tvar actualHint;\n\t\tif (arguments.length > 1) {\n\t\t\tactualHint = arguments[1];\n\t\t} else {\n\t\t\tactualHint = toStr.call(O) === '[object Date]' ? String : Number;\n\t\t}\n\n\t\tif (actualHint === String || actualHint === Number) {\n\t\t\tvar methods = actualHint === String ? ['toString', 'valueOf'] : ['valueOf', 'toString'];\n\t\t\tvar value, i;\n\t\t\tfor (i = 0; i < methods.length; ++i) {\n\t\t\t\tif (isCallable(O[methods[i]])) {\n\t\t\t\t\tvalue = O[methods[i]]();\n\t\t\t\t\tif (isPrimitive(value)) {\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthrow new TypeError('No default value');\n\t\t}\n\t\tthrow new TypeError('invalid [[DefaultValue]] hint supplied');\n\t}\n};\n\n// http://ecma-international.org/ecma-262/5.1/#sec-9.1\nmodule.exports = function ToPrimitive(input) {\n\tif (isPrimitive(input)) {\n\t\treturn input;\n\t}\n\tif (arguments.length > 1) {\n\t\treturn ES5internalSlots['[[DefaultValue]]'](input, arguments[1]);\n\t}\n\treturn ES5internalSlots['[[DefaultValue]]'](input);\n};\n","'use strict';\n\nvar GetIntrinsic = require('./GetIntrinsic');\n\nvar $Object = GetIntrinsic('%Object%');\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $String = GetIntrinsic('%String%');\n\nvar assertRecord = require('./helpers/assertRecord');\nvar $isNaN = require('./helpers/isNaN');\nvar $isFinite = require('./helpers/isFinite');\n\nvar sign = require('./helpers/sign');\nvar mod = require('./helpers/mod');\n\nvar IsCallable = require('is-callable');\nvar toPrimitive = require('es-to-primitive/es5');\n\nvar has = require('has');\n\n// https://es5.github.io/#x9\nvar ES5 = {\n\tToPrimitive: toPrimitive,\n\n\tToBoolean: function ToBoolean(value) {\n\t\treturn !!value;\n\t},\n\tToNumber: function ToNumber(value) {\n\t\treturn +value; // eslint-disable-line no-implicit-coercion\n\t},\n\tToInteger: function ToInteger(value) {\n\t\tvar number = this.ToNumber(value);\n\t\tif ($isNaN(number)) { return 0; }\n\t\tif (number === 0 || !$isFinite(number)) { return number; }\n\t\treturn sign(number) * Math.floor(Math.abs(number));\n\t},\n\tToInt32: function ToInt32(x) {\n\t\treturn this.ToNumber(x) >> 0;\n\t},\n\tToUint32: function ToUint32(x) {\n\t\treturn this.ToNumber(x) >>> 0;\n\t},\n\tToUint16: function ToUint16(value) {\n\t\tvar number = this.ToNumber(value);\n\t\tif ($isNaN(number) || number === 0 || !$isFinite(number)) { return 0; }\n\t\tvar posInt = sign(number) * Math.floor(Math.abs(number));\n\t\treturn mod(posInt, 0x10000);\n\t},\n\tToString: function ToString(value) {\n\t\treturn $String(value);\n\t},\n\tToObject: function ToObject(value) {\n\t\tthis.CheckObjectCoercible(value);\n\t\treturn $Object(value);\n\t},\n\tCheckObjectCoercible: function CheckObjectCoercible(value, optMessage) {\n\t\t/* jshint eqnull:true */\n\t\tif (value == null) {\n\t\t\tthrow new $TypeError(optMessage || 'Cannot call method on ' + value);\n\t\t}\n\t\treturn value;\n\t},\n\tIsCallable: IsCallable,\n\tSameValue: function SameValue(x, y) {\n\t\tif (x === y) { // 0 === -0, but they are not identical.\n\t\t\tif (x === 0) { return 1 / x === 1 / y; }\n\t\t\treturn true;\n\t\t}\n\t\treturn $isNaN(x) && $isNaN(y);\n\t},\n\n\t// https://www.ecma-international.org/ecma-262/5.1/#sec-8\n\tType: function Type(x) {\n\t\tif (x === null) {\n\t\t\treturn 'Null';\n\t\t}\n\t\tif (typeof x === 'undefined') {\n\t\t\treturn 'Undefined';\n\t\t}\n\t\tif (typeof x === 'function' || typeof x === 'object') {\n\t\t\treturn 'Object';\n\t\t}\n\t\tif (typeof x === 'number') {\n\t\t\treturn 'Number';\n\t\t}\n\t\tif (typeof x === 'boolean') {\n\t\t\treturn 'Boolean';\n\t\t}\n\t\tif (typeof x === 'string') {\n\t\t\treturn 'String';\n\t\t}\n\t},\n\n\t// https://ecma-international.org/ecma-262/6.0/#sec-property-descriptor-specification-type\n\tIsPropertyDescriptor: function IsPropertyDescriptor(Desc) {\n\t\tif (this.Type(Desc) !== 'Object') {\n\t\t\treturn false;\n\t\t}\n\t\tvar allowed = {\n\t\t\t'[[Configurable]]': true,\n\t\t\t'[[Enumerable]]': true,\n\t\t\t'[[Get]]': true,\n\t\t\t'[[Set]]': true,\n\t\t\t'[[Value]]': true,\n\t\t\t'[[Writable]]': true\n\t\t};\n\n\t\tfor (var key in Desc) { // eslint-disable-line\n\t\t\tif (has(Desc, key) && !allowed[key]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tvar isData = has(Desc, '[[Value]]');\n\t\tvar IsAccessor = has(Desc, '[[Get]]') || has(Desc, '[[Set]]');\n\t\tif (isData && IsAccessor) {\n\t\t\tthrow new $TypeError('Property Descriptors may not be both accessor and data descriptors');\n\t\t}\n\t\treturn true;\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-8.10.1\n\tIsAccessorDescriptor: function IsAccessorDescriptor(Desc) {\n\t\tif (typeof Desc === 'undefined') {\n\t\t\treturn false;\n\t\t}\n\n\t\tassertRecord(this, 'Property Descriptor', 'Desc', Desc);\n\n\t\tif (!has(Desc, '[[Get]]') && !has(Desc, '[[Set]]')) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-8.10.2\n\tIsDataDescriptor: function IsDataDescriptor(Desc) {\n\t\tif (typeof Desc === 'undefined') {\n\t\t\treturn false;\n\t\t}\n\n\t\tassertRecord(this, 'Property Descriptor', 'Desc', Desc);\n\n\t\tif (!has(Desc, '[[Value]]') && !has(Desc, '[[Writable]]')) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-8.10.3\n\tIsGenericDescriptor: function IsGenericDescriptor(Desc) {\n\t\tif (typeof Desc === 'undefined') {\n\t\t\treturn false;\n\t\t}\n\n\t\tassertRecord(this, 'Property Descriptor', 'Desc', Desc);\n\n\t\tif (!this.IsAccessorDescriptor(Desc) && !this.IsDataDescriptor(Desc)) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-8.10.4\n\tFromPropertyDescriptor: function FromPropertyDescriptor(Desc) {\n\t\tif (typeof Desc === 'undefined') {\n\t\t\treturn Desc;\n\t\t}\n\n\t\tassertRecord(this, 'Property Descriptor', 'Desc', Desc);\n\n\t\tif (this.IsDataDescriptor(Desc)) {\n\t\t\treturn {\n\t\t\t\tvalue: Desc['[[Value]]'],\n\t\t\t\twritable: !!Desc['[[Writable]]'],\n\t\t\t\tenumerable: !!Desc['[[Enumerable]]'],\n\t\t\t\tconfigurable: !!Desc['[[Configurable]]']\n\t\t\t};\n\t\t} else if (this.IsAccessorDescriptor(Desc)) {\n\t\t\treturn {\n\t\t\t\tget: Desc['[[Get]]'],\n\t\t\t\tset: Desc['[[Set]]'],\n\t\t\t\tenumerable: !!Desc['[[Enumerable]]'],\n\t\t\t\tconfigurable: !!Desc['[[Configurable]]']\n\t\t\t};\n\t\t} else {\n\t\t\tthrow new $TypeError('FromPropertyDescriptor must be called with a fully populated Property Descriptor');\n\t\t}\n\t},\n\n\t// https://ecma-international.org/ecma-262/5.1/#sec-8.10.5\n\tToPropertyDescriptor: function ToPropertyDescriptor(Obj) {\n\t\tif (this.Type(Obj) !== 'Object') {\n\t\t\tthrow new $TypeError('ToPropertyDescriptor requires an object');\n\t\t}\n\n\t\tvar desc = {};\n\t\tif (has(Obj, 'enumerable')) {\n\t\t\tdesc['[[Enumerable]]'] = this.ToBoolean(Obj.enumerable);\n\t\t}\n\t\tif (has(Obj, 'configurable')) {\n\t\t\tdesc['[[Configurable]]'] = this.ToBoolean(Obj.configurable);\n\t\t}\n\t\tif (has(Obj, 'value')) {\n\t\t\tdesc['[[Value]]'] = Obj.value;\n\t\t}\n\t\tif (has(Obj, 'writable')) {\n\t\t\tdesc['[[Writable]]'] = this.ToBoolean(Obj.writable);\n\t\t}\n\t\tif (has(Obj, 'get')) {\n\t\t\tvar getter = Obj.get;\n\t\t\tif (typeof getter !== 'undefined' && !this.IsCallable(getter)) {\n\t\t\t\tthrow new TypeError('getter must be a function');\n\t\t\t}\n\t\t\tdesc['[[Get]]'] = getter;\n\t\t}\n\t\tif (has(Obj, 'set')) {\n\t\t\tvar setter = Obj.set;\n\t\t\tif (typeof setter !== 'undefined' && !this.IsCallable(setter)) {\n\t\t\t\tthrow new $TypeError('setter must be a function');\n\t\t\t}\n\t\t\tdesc['[[Set]]'] = setter;\n\t\t}\n\n\t\tif ((has(desc, '[[Get]]') || has(desc, '[[Set]]')) && (has(desc, '[[Value]]') || has(desc, '[[Writable]]'))) {\n\t\t\tthrow new $TypeError('Invalid property descriptor. Cannot both specify accessors and a value or writable attribute');\n\t\t}\n\t\treturn desc;\n\t}\n};\n\nmodule.exports = ES5;\n","'use strict';\n\nvar bind = require('function-bind');\nvar ES = require('es-abstract/es5');\nvar replace = bind.call(Function.call, String.prototype.replace);\n\nvar leftWhitespace = /^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+/;\nvar rightWhitespace = /[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+$/;\n\nmodule.exports = function trim() {\n\tvar S = ES.ToString(ES.CheckObjectCoercible(this));\n\treturn replace(replace(S, leftWhitespace, ''), rightWhitespace, '');\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nvar zeroWidthSpace = '\\u200b';\n\nmodule.exports = function getPolyfill() {\n\tif (String.prototype.trim && zeroWidthSpace.trim() === zeroWidthSpace) {\n\t\treturn String.prototype.trim;\n\t}\n\treturn implementation;\n};\n","'use strict';\n\nvar define = require('define-properties');\nvar getPolyfill = require('./polyfill');\n\nmodule.exports = function shimStringTrim() {\n\tvar polyfill = getPolyfill();\n\tdefine(String.prototype, { trim: polyfill }, { trim: function () { return String.prototype.trim !== polyfill; } });\n\treturn polyfill;\n};\n","'use strict';\n\nvar bind = require('function-bind');\nvar define = require('define-properties');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nvar boundTrim = bind.call(Function.call, getPolyfill());\n\ndefine(boundTrim, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = boundTrim;\n","'use strict';\n\nvar isCallable = require('is-callable');\n\nvar toStr = Object.prototype.toString;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar forEachArray = function forEachArray(array, iterator, receiver) {\n    for (var i = 0, len = array.length; i < len; i++) {\n        if (hasOwnProperty.call(array, i)) {\n            if (receiver == null) {\n                iterator(array[i], i, array);\n            } else {\n                iterator.call(receiver, array[i], i, array);\n            }\n        }\n    }\n};\n\nvar forEachString = function forEachString(string, iterator, receiver) {\n    for (var i = 0, len = string.length; i < len; i++) {\n        // no such thing as a sparse string.\n        if (receiver == null) {\n            iterator(string.charAt(i), i, string);\n        } else {\n            iterator.call(receiver, string.charAt(i), i, string);\n        }\n    }\n};\n\nvar forEachObject = function forEachObject(object, iterator, receiver) {\n    for (var k in object) {\n        if (hasOwnProperty.call(object, k)) {\n            if (receiver == null) {\n                iterator(object[k], k, object);\n            } else {\n                iterator.call(receiver, object[k], k, object);\n            }\n        }\n    }\n};\n\nvar forEach = function forEach(list, iterator, thisArg) {\n    if (!isCallable(iterator)) {\n        throw new TypeError('iterator must be a function');\n    }\n\n    var receiver;\n    if (arguments.length >= 3) {\n        receiver = thisArg;\n    }\n\n    if (toStr.call(list) === '[object Array]') {\n        forEachArray(list, iterator, receiver);\n    } else if (typeof list === 'string') {\n        forEachString(list, iterator, receiver);\n    } else {\n        forEachObject(list, iterator, receiver);\n    }\n};\n\nmodule.exports = forEach;\n","var trim = require('string.prototype.trim')\n  , forEach = require('for-each')\n  , isArray = function(arg) {\n      return Object.prototype.toString.call(arg) === '[object Array]';\n    }\n\nmodule.exports = function (headers) {\n  if (!headers)\n    return {}\n\n  var result = {}\n\n  forEach(\n      trim(headers).split('\\n')\n    , function (row) {\n        var index = row.indexOf(':')\n          , key = trim(row.slice(0, index)).toLowerCase()\n          , value = trim(row.slice(index + 1))\n\n        if (typeof(result[key]) === 'undefined') {\n          result[key] = value\n        } else if (isArray(result[key])) {\n          result[key].push(value)\n        } else {\n          result[key] = [ result[key], value ]\n        }\n      }\n  )\n\n  return result\n}\n","/* eslint max-depth: [\"error\", 4] */\nconst sameOrigin = require('same-origin')\nconst parseHeaders = require('parse-headers')\nconst noop = function () { /* intentional noop */ }\n\nconst win = window\nconst XmlHttpRequest = win.XMLHttpRequest || noop\nconst hasXhr2 = 'withCredentials' in (new XmlHttpRequest())\nconst XDomainRequest = hasXhr2 ? XmlHttpRequest : win.XDomainRequest\nconst adapter = 'xhr'\n\nmodule.exports = (context, callback) => {\n  const options = context.options\n  const timers = {}\n\n  // Deep-checking window.location because of react native, where `location` doesn't exist\n  const cors = win && win.location && !sameOrigin(win.location.href, options.url)\n\n  // Allow middleware to inject a response, for instance in the case of caching or mocking\n  const injectedResponse = context.applyMiddleware('interceptRequest', undefined, {\n    adapter,\n    context\n  })\n\n  // If middleware injected a response, treat it as we normally would and return it\n  // Do note that the injected response has to be reduced to a cross-environment friendly response\n  if (injectedResponse) {\n    const cbTimer = setTimeout(callback, 0, null, injectedResponse)\n    const cancel = () => clearTimeout(cbTimer)\n    return {abort: cancel}\n  }\n\n  // We'll want to null out the request on success/failure\n  let xhr = cors ? new XDomainRequest() : new XmlHttpRequest()\n\n  const isXdr = win.XDomainRequest && xhr instanceof win.XDomainRequest\n  const headers = options.headers\n\n  // Request state\n  let aborted = false\n  let loaded = false\n  let timedOut = false\n\n  // Apply event handlers\n  xhr.onerror = onError\n  xhr.ontimeout = onError\n  xhr.onabort = () => {\n    aborted = true\n  }\n\n  // IE9 must have onprogress be set to a unique function\n  xhr.onprogress = () => { /* intentional noop */ }\n\n  const loadEvent = isXdr ? 'onload' : 'onreadystatechange'\n  xhr[loadEvent] = () => {\n    // Prevent request from timing out\n    resetTimers()\n\n    if (aborted || (xhr.readyState !== 4 && !isXdr)) {\n      return\n    }\n\n    // Will be handled by onError\n    if (xhr.status === 0) {\n      return\n    }\n\n    onLoad()\n  }\n\n  // @todo two last options to open() is username/password\n  xhr.open(\n    options.method,\n    options.url,\n    true // Always async\n  )\n\n  // Some options need to be applied after open\n  xhr.withCredentials = !!options.withCredentials\n\n  // Set headers\n  if (headers && xhr.setRequestHeader) {\n    for (const key in headers) {\n      if (headers.hasOwnProperty(key)) {\n        xhr.setRequestHeader(key, headers[key])\n      }\n    }\n  } else if (headers && isXdr) {\n    throw new Error('Headers cannot be set on an XDomainRequest object')\n  }\n\n  if (options.rawBody) {\n    xhr.responseType = 'arraybuffer'\n  }\n\n  // Let middleware know we're about to do a request\n  context.applyMiddleware('onRequest', {options, adapter, request: xhr, context})\n\n  xhr.send(options.body || null)\n\n  // Figure out which timeouts to use (if any)\n  const delays = options.timeout\n  if (delays) {\n    timers.connect = setTimeout(\n      () => timeoutRequest('ETIMEDOUT'),\n      delays.connect\n    )\n  }\n\n  return {abort}\n\n  function abort() {\n    aborted = true\n\n    if (xhr) {\n      xhr.abort()\n    }\n  }\n\n  function timeoutRequest(code) {\n    timedOut = true\n    xhr.abort()\n    const error = new Error(code === 'ESOCKETTIMEDOUT'\n      ? `Socket timed out on request to ${options.url}`\n      : `Connection timed out on request to ${options.url}`\n    )\n    error.code = code\n    context.channels.error.publish(error)\n  }\n\n  function resetTimers() {\n    if (!delays) {\n      return\n    }\n\n    stopTimers()\n    timers.socket = setTimeout(\n      () => timeoutRequest('ESOCKETTIMEDOUT'),\n      delays.socket\n    )\n  }\n\n  function stopTimers() {\n    // Only clear the connect timeout if we've got a connection\n    if (aborted || (xhr.readyState >= 2 && timers.connect)) {\n      clearTimeout(timers.connect)\n    }\n\n    if (timers.socket) {\n      clearTimeout(timers.socket)\n    }\n  }\n\n  function onError() {\n    if (loaded) {\n      return\n    }\n\n    // Clean up\n    stopTimers()\n    loaded = true\n    xhr = null\n\n    // Annoyingly, details are extremely scarce and hidden from us.\n    // We only really know that it is a network error\n    const err = new Error(`Network error while attempting to reach ${options.url}`)\n    err.isNetworkError = true\n    err.request = options\n    callback(err)\n  }\n\n  function reduceResponse() {\n    let statusCode = xhr.status\n    let statusMessage = xhr.statusText\n\n    if (isXdr && statusCode === undefined) {\n      // IE8 CORS GET successful response doesn't have a status field, but body is fine\n      statusCode = 200\n    } else if (statusCode > 12000 && statusCode < 12156) {\n      // Yet another IE quirk where it emits weird status codes on network errors\n      // https://support.microsoft.com/en-us/kb/193625\n      return onError()\n    } else {\n      // Another IE bug where HTTP 204 somehow ends up as 1223\n      statusCode = xhr.status === 1223 ? 204 : xhr.status\n      statusMessage = xhr.status === 1223 ? 'No Content' : statusMessage\n    }\n\n    return {\n      body: xhr.response || xhr.responseText,\n      url: options.url,\n      method: options.method,\n      headers: isXdr ? {} : parseHeaders(xhr.getAllResponseHeaders()),\n      statusCode: statusCode,\n      statusMessage: statusMessage\n    }\n  }\n\n  function onLoad() {\n    if (aborted || loaded || timedOut) {\n      return\n    }\n\n    if (xhr.status === 0) {\n      onError(new Error('Unknown XHR error'))\n      return\n    }\n\n    // Prevent being called twice\n    stopTimers()\n    loaded = true\n    callback(null, reduceResponse())\n  }\n}\n","module.exports = require('./node-request')\n","const pubsub = require('nano-pubsub')\nconst middlewareReducer = require('./util/middlewareReducer')\nconst processOptions = require('./middleware/defaultOptionsProcessor')\nconst validateOptions = require('./middleware/defaultOptionsValidator')\nconst httpRequest = require('./request') // node-request in node, browser-request in browsers\n\nconst channelNames = ['request', 'response', 'progress', 'error', 'abort']\nconst middlehooks = [\n  'processOptions',\n  'validateOptions',\n  'interceptRequest',\n  'onRequest',\n  'onResponse',\n  'onError',\n  'onReturn',\n  'onHeaders'\n]\n\nmodule.exports = function createRequester(initMiddleware = []) {\n  const loadedMiddleware = []\n  const middleware = middlehooks.reduce((ware, name) => {\n    ware[name] = ware[name] || []\n    return ware\n  }, {\n    processOptions: [processOptions],\n    validateOptions: [validateOptions]\n  })\n\n  function request(opts) {\n    const channels = channelNames.reduce((target, name) => {\n      target[name] = pubsub()\n      return target\n    }, {})\n\n    // Prepare a middleware reducer that can be reused throughout the lifecycle\n    const applyMiddleware = middlewareReducer(middleware)\n\n    // Parse the passed options\n    const options = applyMiddleware('processOptions', opts)\n\n    // Validate the options\n    applyMiddleware('validateOptions', options)\n\n    // Build a context object we can pass to child handlers\n    const context = {options, channels, applyMiddleware}\n\n    // We need to hold a reference to the current, ongoing request,\n    // in order to allow cancellation. In the case of the retry middleware,\n    // a new request might be triggered\n    let ongoingRequest = null\n    const unsubscribe = channels.request.subscribe(ctx => {\n      // Let request adapters (node/browser) perform the actual request\n      ongoingRequest = httpRequest(ctx, (err, res) => onResponse(err, res, ctx))\n    })\n\n    // If we abort the request, prevent further requests from happening,\n    // and be sure to cancel any ongoing request (obviously)\n    channels.abort.subscribe(() => {\n      unsubscribe()\n      if (ongoingRequest) {\n        ongoingRequest.abort()\n      }\n    })\n\n    // See if any middleware wants to modify the return value - for instance\n    // the promise or observable middlewares\n    const returnValue = applyMiddleware('onReturn', channels, context)\n\n    // If return value has been modified by a middleware, we expect the middleware\n    // to publish on the 'request' channel. If it hasn't been modified, we want to\n    // trigger it right away\n    if (returnValue === channels) {\n      channels.request.publish(context)\n    }\n\n    return returnValue\n\n    function onResponse(reqErr, res, ctx) {\n      let error = reqErr\n      let response = res\n\n      // We're processing non-errors first, in case a middleware converts the\n      // response into an error (for instance, status >= 400 == HttpError)\n      if (!error) {\n        try {\n          response = applyMiddleware('onResponse', res, ctx)\n        } catch (err) {\n          response = null\n          error = err\n        }\n      }\n\n      // Apply error middleware - if middleware return the same (or a different) error,\n      // publish as an error event. If we *don't* return an error, assume it has been handled\n      error = error && applyMiddleware('onError', error, ctx)\n\n      // Figure out if we should publish on error/response channels\n      if (error) {\n        channels.error.publish(error)\n      } else if (response) {\n        channels.response.publish(response)\n      }\n    }\n  }\n\n  request.use = function use(newMiddleware) {\n    if (!newMiddleware) {\n      throw new Error('Tried to add middleware that resolved to falsey value')\n    }\n\n    if (typeof newMiddleware === 'function') {\n      throw new Error('Tried to add middleware that was a function. It probably expects you to pass options to it.')\n    }\n\n    if (newMiddleware.onReturn && middleware.onReturn.length > 0) {\n      throw new Error('Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event')\n    }\n\n    middlehooks.forEach(key => {\n      if (newMiddleware[key]) {\n        middleware[key].push(newMiddleware[key])\n      }\n    })\n\n    loadedMiddleware.push(newMiddleware)\n    return request\n  }\n\n  request.clone = function clone() {\n    return createRequester(loadedMiddleware)\n  }\n\n  initMiddleware.forEach(request.use)\n\n  return request\n}\n","module.exports = require('./lib-node')\n","/* eslint-disable no-negated-condition */\nif (typeof window !== 'undefined') {\n  module.exports = window\n} else if (typeof global !== 'undefined') {\n  module.exports = global\n} else if (typeof self !== 'undefined') {\n  module.exports = self\n} else {\n  module.exports = {}\n}\n","const global = require('../util/global')\nconst objectAssign = require('object-assign')\n\nmodule.exports = (opts = {}) => {\n  const Observable = opts.implementation || global.Observable\n  if (!Observable) {\n    throw new Error('`Observable` is not available in global scope, and no implementation was passed')\n  }\n\n  return {\n    onReturn: (channels, context) => new Observable(observer => {\n      channels.error.subscribe(err => observer.error(err))\n      channels.progress.subscribe(event => observer.next(objectAssign({type: 'progress'}, event)))\n      channels.response.subscribe(response => {\n        observer.next(objectAssign({type: 'response'}, response))\n        observer.complete()\n      })\n\n      channels.request.publish(context)\n      return () => channels.abort.publish()\n    })\n  }\n}\n","/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n};\n","/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nvar isObject = require('isobject');\n\nfunction isObjectObject(o) {\n  return isObject(o) === true\n    && Object.prototype.toString.call(o) === '[object Object]';\n}\n\nmodule.exports = function isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObjectObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (typeof ctor !== 'function') return false;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObjectObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n};\n","const objectAssign = require('object-assign')\nconst isPlainObject = require('is-plain-object')\n\nconst serializeTypes = ['boolean', 'string', 'number']\nconst isBuffer = obj => (\n  !!obj.constructor\n  && typeof obj.constructor.isBuffer === 'function'\n  && obj.constructor.isBuffer(obj)\n)\n\nmodule.exports = () => ({\n  processOptions: options => {\n    const body = options.body\n    if (!body) {\n      return options\n    }\n\n    const isStream = typeof body.pipe === 'function'\n    const shouldSerialize = !isStream && !isBuffer(body) && (\n      serializeTypes.indexOf(typeof body) !== -1\n      || Array.isArray(body)\n      || isPlainObject(body)\n    )\n\n    if (!shouldSerialize) {\n      return options\n    }\n\n    return objectAssign({}, options, {\n      body: JSON.stringify(options.body),\n      headers: objectAssign({}, options.headers, {\n        'Content-Type': 'application/json'\n      })\n    })\n  }\n})\n","const objectAssign = require('object-assign')\n\nmodule.exports = opts => ({\n  onResponse: response => {\n    const contentType = response.headers['content-type'] || ''\n    const shouldDecode = (opts && opts.force) || contentType.indexOf('application/json') !== -1\n    if (!response.body || !contentType || !shouldDecode) {\n      return response\n    }\n\n    return objectAssign({}, response, {body: tryParse(response.body)})\n  },\n\n  processOptions: options => objectAssign({}, options, {\n    headers: objectAssign({Accept: 'application/json'}, options.headers)\n  })\n})\n\nfunction tryParse(body) {\n  try {\n    return JSON.parse(body)\n  } catch (err) {\n    err.message = `Failed to parsed response body as JSON: ${err.message}`\n    throw err\n  }\n}\n","module.exports = () => ({\n  onRequest: evt => {\n    if (evt.adapter !== 'xhr') {\n      return\n    }\n\n    const xhr = evt.request\n    const context = evt.context\n\n    if ('upload' in xhr && 'onprogress' in xhr.upload) {\n      xhr.upload.onprogress = handleProgress('upload')\n    }\n\n    if ('onprogress' in xhr) {\n      xhr.onprogress = handleProgress('download')\n    }\n\n    function handleProgress(stage) {\n      return event => {\n        const percent = event.lengthComputable ? ((event.loaded / event.total) * 100) : -1\n        context.channels.progress.publish({\n          stage,\n          percent,\n          total: event.total,\n          loaded: event.loaded,\n          lengthComputable: event.lengthComputable,\n        })\n      }\n    }\n  }\n})\n","module.exports = require('./node-progress')\n","// ISC @ Julien Fontanet\n\n'use strict'\n\n// ===================================================================\n\nvar construct = typeof Reflect !== 'undefined' ? Reflect.construct : undefined\nvar defineProperty = Object.defineProperty\n\n// -------------------------------------------------------------------\n\nvar captureStackTrace = Error.captureStackTrace\nif (captureStackTrace === undefined) {\n  captureStackTrace = function captureStackTrace (error) {\n    var container = new Error()\n\n    defineProperty(error, 'stack', {\n      configurable: true,\n      get: function getStack () {\n        var stack = container.stack\n\n        // Replace property with value for faster future accesses.\n        defineProperty(this, 'stack', {\n          configurable: true,\n          value: stack,\n          writable: true\n        })\n\n        return stack\n      },\n      set: function setStack (stack) {\n        defineProperty(error, 'stack', {\n          configurable: true,\n          value: stack,\n          writable: true\n        })\n      }\n    })\n  }\n}\n\n// -------------------------------------------------------------------\n\nfunction BaseError (message) {\n  if (message !== undefined) {\n    defineProperty(this, 'message', {\n      configurable: true,\n      value: message,\n      writable: true\n    })\n  }\n\n  var cname = this.constructor.name\n  if (\n    cname !== undefined &&\n    cname !== this.name\n  ) {\n    defineProperty(this, 'name', {\n      configurable: true,\n      value: cname,\n      writable: true\n    })\n  }\n\n  captureStackTrace(this, this.constructor)\n}\n\nBaseError.prototype = Object.create(Error.prototype, {\n  // See: https://github.com/JsCommunity/make-error/issues/4\n  constructor: {\n    configurable: true,\n    value: BaseError,\n    writable: true\n  }\n})\n\n// -------------------------------------------------------------------\n\n// Sets the name of a function if possible (depends of the JS engine).\nvar setFunctionName = (function () {\n  function setFunctionName (fn, name) {\n    return defineProperty(fn, 'name', {\n      configurable: true,\n      value: name\n    })\n  }\n  try {\n    var f = function () {}\n    setFunctionName(f, 'foo')\n    if (f.name === 'foo') {\n      return setFunctionName\n    }\n  } catch (_) {}\n})()\n\n// -------------------------------------------------------------------\n\nfunction makeError (constructor, super_) {\n  if (super_ == null || super_ === Error) {\n    super_ = BaseError\n  } else if (typeof super_ !== 'function') {\n    throw new TypeError('super_ should be a function')\n  }\n\n  var name\n  if (typeof constructor === 'string') {\n    name = constructor\n    constructor = construct !== undefined\n      ? function () { return construct(super_, arguments, this.constructor) }\n      : function () { super_.apply(this, arguments) }\n\n    // If the name can be set, do it once and for all.\n    if (setFunctionName !== undefined) {\n      setFunctionName(constructor, name)\n      name = undefined\n    }\n  } else if (typeof constructor !== 'function') {\n    throw new TypeError('constructor should be either a string or a function')\n  }\n\n  // Also register the super constructor also as `constructor.super_` just\n  // like Node's `util.inherits()`.\n  constructor.super_ = constructor['super'] = super_\n\n  var properties = {\n    constructor: {\n      configurable: true,\n      value: constructor,\n      writable: true\n    }\n  }\n\n  // If the name could not be set on the constructor, set it on the\n  // prototype.\n  if (name !== undefined) {\n    properties.name = {\n      configurable: true,\n      value: name,\n      writable: true\n    }\n  }\n  constructor.prototype = Object.create(super_.prototype, properties)\n\n  return constructor\n}\nexports = module.exports = makeError\nexports.BaseError = BaseError\n","\"use strict\";\n\nvar makeError = require('make-error');\n\nvar assign = require('object-assign');\n\nfunction ClientError(res) {\n  var props = extractErrorProps(res);\n  ClientError.super.call(this, props.message);\n  assign(this, props);\n}\n\nfunction ServerError(res) {\n  var props = extractErrorProps(res);\n  ServerError.super.call(this, props.message);\n  assign(this, props);\n}\n\nfunction extractErrorProps(res) {\n  var body = res.body;\n  var props = {\n    response: res,\n    statusCode: res.statusCode,\n    responseBody: stringifyBody(body, res) // API/Boom style errors ({statusCode, error, message})\n\n  };\n\n  if (body.error && body.message) {\n    props.message = \"\".concat(body.error, \" - \").concat(body.message);\n    return props;\n  } // Query/database errors ({error: {description, other, arb, props}})\n\n\n  if (body.error && body.error.description) {\n    props.message = body.error.description;\n    props.details = body.error;\n    return props;\n  } // Other, more arbitrary errors\n\n\n  props.message = body.error || body.message || httpErrorMessage(res);\n  return props;\n}\n\nfunction httpErrorMessage(res) {\n  var statusMessage = res.statusMessage ? \" \".concat(res.statusMessage) : '';\n  return \"\".concat(res.method, \"-request to \").concat(res.url, \" resulted in HTTP \").concat(res.statusCode).concat(statusMessage);\n}\n\nfunction stringifyBody(body, res) {\n  var contentType = (res.headers['content-type'] || '').toLowerCase();\n  var isJson = contentType.indexOf('application/json') !== -1;\n  return isJson ? JSON.stringify(body, null, 2) : body;\n}\n\nmakeError(ClientError);\nmakeError(ServerError);\nexports.ClientError = ClientError;\nexports.ServerError = ServerError;","\"use strict\";\n\nmodule.exports = [];","\"use strict\";\n\n/* eslint-disable no-empty-function, no-process-env */\nvar getIt = require('get-it');\n\nvar assign = require('object-assign');\n\nvar observable = require('get-it/lib/middleware/observable');\n\nvar jsonRequest = require('get-it/lib/middleware/jsonRequest');\n\nvar jsonResponse = require('get-it/lib/middleware/jsonResponse');\n\nvar progress = require('get-it/lib/middleware/progress');\n\nvar Observable = require('@sanity/observable/minimal');\n\nvar _require = require('./errors'),\n    ClientError = _require.ClientError,\n    ServerError = _require.ServerError;\n\nvar httpError = {\n  onResponse: function onResponse(res) {\n    if (res.statusCode >= 500) {\n      throw new ServerError(res);\n    } else if (res.statusCode >= 400) {\n      throw new ClientError(res);\n    }\n\n    return res;\n  } // Environment-specific middleware.\n\n};\n\nvar envSpecific = require('./nodeMiddleware');\n\nvar middleware = envSpecific.concat([jsonRequest(), jsonResponse(), progress(), httpError, observable({\n  implementation: Observable\n})]);\nvar request = getIt(middleware);\n\nfunction httpRequest(options) {\n  var requester = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : request;\n  return requester(assign({\n    maxRedirects: 0\n  }, options));\n}\n\nhttpRequest.defaultRequester = request;\nhttpRequest.ClientError = ClientError;\nhttpRequest.ServerError = ServerError;\nmodule.exports = httpRequest;","\"use strict\";\n\nvar projectHeader = 'X-Sanity-Project-ID';\n\nmodule.exports = function (config) {\n  var headers = {};\n\n  if (config.token) {\n    headers.Authorization = \"Bearer \".concat(config.token);\n  }\n\n  if (!config.useProjectHostname && config.projectId) {\n    headers[projectHeader] = config.projectId;\n  }\n\n  return {\n    headers: headers,\n    timeout: 'timeout' in config ? config.timeout : 30000,\n    json: true,\n    withCredentials: Boolean(config.token || config.withCredentials)\n  };\n};","\"use strict\";\n\nvar generateHelpUrl = require('@sanity/generate-help-url');\n\nvar assign = require('object-assign');\n\nvar validate = require('./validators');\n\nvar once = require('./util/once');\n\nvar defaultCdnHost = 'apicdn.sanity.io';\nvar defaultConfig = {\n  apiHost: 'https://api.sanity.io',\n  useProjectHostname: true,\n  gradientMode: false,\n  isPromiseAPI: true\n};\nvar LOCALHOSTS = ['localhost', '127.0.0.1', '0.0.0.0'];\n\nvar isLocal = function isLocal(host) {\n  return LOCALHOSTS.indexOf(host) !== -1;\n}; // eslint-disable-next-line no-console\n\n\nvar createWarningPrinter = function createWarningPrinter(message) {\n  return once(function () {\n    return console.warn(message.join(' '));\n  });\n};\n\nvar printCdnWarning = createWarningPrinter(['You are not using the Sanity CDN. That means your data is always fresh, but the CDN is faster and', \"cheaper. Think about it! For more info, see \".concat(generateHelpUrl('js-client-cdn-configuration'), \".\"), 'To hide this warning, please set the `useCdn` option to either `true` or `false` when creating', 'the client.']);\nvar printBrowserTokenWarning = createWarningPrinter(['You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.', \"See \".concat(generateHelpUrl('js-client-browser-token'), \" for more information and how to hide this warning.\")]);\nvar printCdnTokenWarning = createWarningPrinter(['You have set `useCdn` to `true` while also specifying a token. This is usually not what you', 'want. The CDN cannot be used with an authorization token, since private data cannot be cached.', \"See \".concat(generateHelpUrl('js-client-usecdn-token'), \" for more information.\")]);\nexports.defaultConfig = defaultConfig;\n\nexports.initConfig = function (config, prevConfig) {\n  var newConfig = assign({}, defaultConfig, prevConfig, config);\n  var gradientMode = newConfig.gradientMode;\n  var projectBased = !gradientMode && newConfig.useProjectHostname;\n\n  if (typeof Promise === 'undefined') {\n    var helpUrl = generateHelpUrl('js-client-promise-polyfill');\n    throw new Error(\"No native Promise-implementation found, polyfill needed - see \".concat(helpUrl));\n  }\n\n  if (gradientMode && !newConfig.namespace) {\n    throw new Error('Configuration must contain `namespace` when running in gradient mode');\n  }\n\n  if (projectBased && !newConfig.projectId) {\n    throw new Error('Configuration must contain `projectId`');\n  }\n\n  var isBrowser = typeof window !== 'undefined' && window.location && window.location.hostname;\n  var isLocalhost = isBrowser && isLocal(window.location.hostname);\n\n  if (isBrowser && isLocalhost && newConfig.token && newConfig.ignoreBrowserTokenWarning !== true) {\n    printBrowserTokenWarning();\n  } else if ((!isBrowser || isLocalhost) && newConfig.useCdn && newConfig.token) {\n    printCdnTokenWarning();\n  } else if (typeof newConfig.useCdn === 'undefined') {\n    printCdnWarning();\n  }\n\n  if (projectBased) {\n    validate.projectId(newConfig.projectId);\n  }\n\n  if (!gradientMode && newConfig.dataset) {\n    validate.dataset(newConfig.dataset, newConfig.gradientMode);\n  }\n\n  newConfig.isDefaultApi = newConfig.apiHost === defaultConfig.apiHost;\n  newConfig.useCdn = Boolean(newConfig.useCdn) && !newConfig.token && !newConfig.withCredentials;\n\n  if (newConfig.gradientMode) {\n    newConfig.url = newConfig.apiHost;\n    newConfig.cdnUrl = newConfig.apiHost;\n  } else {\n    var hostParts = newConfig.apiHost.split('://', 2);\n    var protocol = hostParts[0];\n    var host = hostParts[1];\n    var cdnHost = newConfig.isDefaultApi ? defaultCdnHost : host;\n\n    if (newConfig.useProjectHostname) {\n      newConfig.url = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(host, \"/v1\");\n      newConfig.cdnUrl = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(cdnHost, \"/v1\");\n    } else {\n      newConfig.url = \"\".concat(newConfig.apiHost, \"/v1\");\n      newConfig.cdnUrl = newConfig.url;\n    }\n  }\n\n  return newConfig;\n};","\"use strict\";\n\nvar assign = require('object-assign');\n\nvar _require = require('@sanity/observable/operators/filter'),\n    filter = _require.filter;\n\nvar _require2 = require('@sanity/observable/operators/map'),\n    map = _require2.map;\n\nvar Patch = require('./data/patch');\n\nvar Transaction = require('./data/transaction');\n\nvar dataMethods = require('./data/dataMethods');\n\nvar DatasetsClient = require('./datasets/datasetsClient');\n\nvar ProjectsClient = require('./projects/projectsClient');\n\nvar AssetsClient = require('./assets/assetsClient');\n\nvar UsersClient = require('./users/usersClient');\n\nvar AuthClient = require('./auth/authClient');\n\nvar httpRequest = require('./http/request');\n\nvar getRequestOptions = require('./http/requestOptions');\n\nvar _require3 = require('./config'),\n    defaultConfig = _require3.defaultConfig,\n    initConfig = _require3.initConfig;\n\nvar toPromise = function toPromise(observable) {\n  return observable.toPromise();\n};\n\nfunction SanityClient() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultConfig;\n\n  if (!(this instanceof SanityClient)) {\n    return new SanityClient(config);\n  }\n\n  this.config(config);\n  this.assets = new AssetsClient(this);\n  this.datasets = new DatasetsClient(this);\n  this.projects = new ProjectsClient(this);\n  this.users = new UsersClient(this);\n  this.auth = new AuthClient(this);\n\n  if (this.clientConfig.isPromiseAPI) {\n    var observableConfig = assign({}, this.clientConfig, {\n      isPromiseAPI: false\n    });\n    this.observable = new SanityClient(observableConfig);\n  }\n}\n\nassign(SanityClient.prototype, dataMethods);\nassign(SanityClient.prototype, {\n  clone: function clone() {\n    return new SanityClient(this.config());\n  },\n  config: function config(newConfig) {\n    if (typeof newConfig === 'undefined') {\n      return assign({}, this.clientConfig);\n    }\n\n    if (this.observable) {\n      var observableConfig = assign({}, newConfig, {\n        isPromiseAPI: false\n      });\n      this.observable.config(observableConfig);\n    }\n\n    this.clientConfig = initConfig(newConfig, this.clientConfig || {});\n    return this;\n  },\n  getUrl: function getUrl(uri) {\n    var canUseCdn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var base = canUseCdn ? this.clientConfig.cdnUrl : this.clientConfig.url;\n    return \"\".concat(base, \"/\").concat(uri.replace(/^\\//, ''));\n  },\n  isPromiseAPI: function isPromiseAPI() {\n    return this.clientConfig.isPromiseAPI;\n  },\n  _requestObservable: function _requestObservable(options) {\n    var uri = options.url || options.uri;\n    var canUseCdn = this.clientConfig.useCdn && ['GET', 'HEAD'].indexOf(options.method || 'GET') >= 0 && uri.indexOf('/data/') === 0;\n    return httpRequest(mergeOptions(getRequestOptions(this.clientConfig), options, {\n      url: this.getUrl(uri, canUseCdn)\n    }), this.clientConfig.requester);\n  },\n  request: function request(options) {\n    var observable = this._requestObservable(options).pipe(filter(function (event) {\n      return event.type === 'response';\n    }), map(function (event) {\n      return event.body;\n    }));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  }\n}); // Merge http options and headers\n\nfunction mergeOptions() {\n  for (var _len = arguments.length, opts = new Array(_len), _key = 0; _key < _len; _key++) {\n    opts[_key] = arguments[_key];\n  }\n\n  var headers = opts.reduce(function (merged, options) {\n    if (!merged && !options.headers) {\n      return null;\n    }\n\n    return assign(merged || {}, options.headers || {});\n  }, null);\n  return assign.apply(void 0, opts.concat([headers ? {\n    headers: headers\n  } : {}]));\n}\n\nSanityClient.Patch = Patch;\nSanityClient.Transaction = Transaction;\nSanityClient.ClientError = httpRequest.ClientError;\nSanityClient.ServerError = httpRequest.ServerError;\nSanityClient.requester = httpRequest.defaultRequester;\nmodule.exports = SanityClient;","// Convert an asset-id, asset or image to an image record suitable for processing\n// eslint-disable-next-line complexity\nexport default function parseSource(source) {\n  if (!source) {\n    return null\n  }\n\n  let image\n\n  if (typeof source === 'string' && isUrl(source)) {\n    // Someone passed an existing image url?\n    image = {\n      asset: {_ref: urlToId(source)}\n    }\n  } else if (typeof source === 'string') {\n    // Just an asset id\n    image = {\n      asset: {_ref: source}\n    }\n  } else if (typeof source._ref === 'string') {\n    // We just got passed an asset directly\n    image = {\n      asset: source\n    }\n  } else if (source._id) {\n    // If we were passed an image asset document\n    image = {\n      asset: {\n        _ref: source._id\n      }\n    }\n  } else if (source.asset && source.asset.url && !source.asset._ref) {\n    image = {\n      asset: {\n        _ref: urlToId(source.asset.url)\n      }\n    }\n  } else if (typeof source.asset === 'object') {\n    image = source\n  } else {\n    // We got something that does not look like an image, or it is an image\n    // that currently isn't sporting an asset.\n    return null\n  }\n\n  if (source.crop) {\n    image.crop = source.crop\n  }\n  if (source.hotspot) {\n    image.hotspot = source.hotspot\n  }\n\n  return applyDefaults(image)\n}\n\nfunction isUrl(url) {\n  return /^https?:\\/\\//.test(`${url}`)\n}\n\nfunction urlToId(url) {\n  const parts = url.split('/').slice(-1)\n  return `image-${parts[0]}`.replace(/\\.([a-z]+)$/, '-$1')\n}\n\n// Mock crop and hotspot if image lacks it\nfunction applyDefaults(image) {\n  if (image.crop && image.hotspot) {\n    return image\n  }\n\n  // We need to pad in default values for crop or hotspot\n  const result = Object.assign({}, image)\n\n  if (!result.crop) {\n    result.crop = {\n      left: 0,\n      top: 0,\n      bottom: 0,\n      right: 0\n    }\n  }\n\n  if (!result.hotspot) {\n    result.hotspot = {\n      x: 0.5,\n      y: 0.5,\n      height: 1.0,\n      width: 1.0\n    }\n  }\n\n  return result\n}\n","const example = 'image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg'\n\nexport default function parseAssetId(ref) {\n  const [, id, dimensionString, format] = ref.split('-')\n\n  if (!id || !dimensionString || !format) {\n    throw new Error(`Malformed asset _ref '${ref}'. Expected an id like \"${example}\".`)\n  }\n\n  const [imgWidthStr, imgHeightStr] = dimensionString.split('x')\n\n  const width = +imgWidthStr\n  const height = +imgHeightStr\n\n  const isValidAssetId = isFinite(width) && isFinite(height)\n  if (!isValidAssetId) {\n    throw new Error(`Malformed asset _ref '${ref}'. Expected an id like \"${example}\".`)\n  }\n\n  return {id, width, height, format}\n}\n","import parseSource from './parseSource'\nimport parseAssetId from './parseAssetId'\n\nconst SPEC_NAME_TO_URL_NAME_MAPPINGS = [\n  ['width', 'w'],\n  ['height', 'h'],\n  ['format', 'fm'],\n  ['download', 'dl'],\n  ['blur', 'blur'],\n  ['sharpen', 'sharp'],\n  ['invert', 'invert'],\n  ['orientation', 'or'],\n  ['minHeight', 'min-h'],\n  ['maxHeight', 'max-h'],\n  ['minWidth', 'min-w'],\n  ['maxWidth', 'max-w'],\n  ['quality', 'q'],\n  ['fit', 'fit'],\n  ['crop', 'crop']\n]\n\nexport default function urlForImage(options) {\n  let spec = {...(options || {})}\n  const source = spec.source\n  delete spec.source\n\n  const image = parseSource(source)\n  if (!image) {\n    return null\n  }\n\n  const asset = parseAssetId(image.asset._ref || image.asset._id)\n\n  // Compute crop rect in terms of pixel coordinates in the raw source image\n  const crop = {\n    left: Math.round(image.crop.left * asset.width),\n    top: Math.round(image.crop.top * asset.height)\n  }\n\n  crop.width = Math.round(asset.width - image.crop.right * asset.width - crop.left)\n  crop.height = Math.round(asset.height - image.crop.bottom * asset.height - crop.top)\n\n  // Compute hot spot rect in terms of pixel coordinates\n  const hotSpotVerticalRadius = (image.hotspot.height * asset.height) / 2\n  const hotSpotHorizontalRadius = (image.hotspot.width * asset.width) / 2\n  const hotSpotCenterX = image.hotspot.x * asset.width\n  const hotSpotCenterY = image.hotspot.y * asset.height\n  const hotspot = {\n    left: hotSpotCenterX - hotSpotHorizontalRadius,\n    top: hotSpotCenterY - hotSpotVerticalRadius,\n    right: hotSpotCenterX + hotSpotHorizontalRadius,\n    bottom: hotSpotCenterY + hotSpotHorizontalRadius\n  }\n\n  spec.asset = asset\n\n  // If irrelevant, or if we are requested to: don't perform crop/fit based on\n  // the crop/hotspot.\n  if (!(spec.rect || spec.focalPoint || spec.ignoreImageParams || spec.crop)) {\n    spec = {...spec, ...fit({crop, hotspot}, spec)}\n  }\n\n  return specToImageUrl(spec)\n}\n\n// eslint-disable-next-line complexity\nfunction specToImageUrl(spec) {\n  const cdnUrl = spec.baseUrl || 'https://cdn.sanity.io'\n  const filename = `${spec.asset.id}-${spec.asset.width}x${spec.asset.height}.${spec.asset.format}`\n  const baseUrl = `${cdnUrl}/images/${spec.projectId}/${spec.dataset}/${filename}`\n\n  const params = []\n\n  if (spec.rect) {\n    // Only bother url with a crop if it actually crops anything\n    const isEffectiveCrop =\n      spec.rect.left != 0 ||\n      spec.rect.top != 0 ||\n      spec.rect.height != spec.asset.height ||\n      spec.rect.width != spec.asset.width\n    if (isEffectiveCrop) {\n      params.push(`rect=${spec.rect.left},${spec.rect.top},${spec.rect.width},${spec.rect.height}`)\n    }\n  }\n\n  if (spec.bg) {\n    params.push(`bg=${spec.bg}`)\n  }\n\n  if (spec.focalPoint) {\n    params.push(`fp-x=${spec.focalPoint.x}`)\n    params.push(`fp-x=${spec.focalPoint.y}`)\n  }\n\n  if (spec.flipHorizontal || spec.flipVertical) {\n    params.push(`flip=${spec.flipHorizontal ? 'h' : ''}${spec.flipVertical ? 'v' : ''}`)\n  }\n\n  // Map from spec name to url param name, and allow using the actual param name as an alternative\n  SPEC_NAME_TO_URL_NAME_MAPPINGS.forEach(mapping => {\n    const [specName, param] = mapping\n    if (typeof spec[specName] !== 'undefined') {\n      params.push(`${param}=${encodeURIComponent(spec[specName])}`)\n    } else if (typeof spec[param] !== 'undefined') {\n      params.push(`${param}=${encodeURIComponent(spec[param])}`)\n    }\n  })\n\n  if (params.length === 0) {\n    return baseUrl\n  }\n\n  return `${baseUrl}?${params.join('&')}`\n}\n\nfunction fit(source, spec) {\n  const result = {\n    width: spec.width,\n    height: spec.height\n  }\n\n  // If we are not constraining the aspect ratio, we'll just use the whole crop\n  if (!(spec.width && spec.height)) {\n    result.rect = source.crop\n    return result\n  }\n\n  const crop = source.crop\n  const hotspot = source.hotspot\n\n  // If we are here, that means aspect ratio is locked and fitting will be a bit harder\n  const desiredAspectRatio = spec.width / spec.height\n  const cropAspectRatio = crop.width / crop.height\n\n  if (cropAspectRatio > desiredAspectRatio) {\n    // The crop is wider than the desired aspect ratio. That means we are cutting from the sides\n    const height = crop.height\n    const width = height * desiredAspectRatio\n    const top = crop.top\n    // Center output horizontally over hotspot\n    const hotspotXCenter = (hotspot.right - hotspot.left) / 2 + hotspot.left\n    let left = hotspotXCenter - width / 2\n    // Keep output within crop\n    if (left < crop.left) {\n      left = crop.left\n    } else if (left + width > crop.left + crop.width) {\n      left = crop.left + crop.width - width\n    }\n    result.rect = {\n      left: Math.round(left),\n      top: Math.round(top),\n      width: Math.round(width),\n      height: Math.round(height)\n    }\n    return result\n  }\n  // The crop is taller than the desired ratio, we are cutting from top and bottom\n  const width = crop.width\n  const height = width / desiredAspectRatio\n  const left = crop.left\n  // Center output vertically over hotspot\n  const hotspotYCenter = (hotspot.bottom - hotspot.top) / 2 + hotspot.top\n  let top = hotspotYCenter - height / 2\n  // Keep output rect within crop\n  if (top < crop.top) {\n    top = crop.top\n  } else if (top + height > crop.top + crop.height) {\n    top = crop.top + crop.height - height\n  }\n  result.rect = {\n    left: Math.max(0, Math.floor(left)),\n    top: Math.max(0, Math.floor(top)),\n    width: Math.round(width),\n    height: Math.round(height)\n  }\n  return result\n}\n\n// For backwards-compatibility\nexport {parseSource}\n","import urlForImage from './urlForImage'\n\nconst validFits = ['clip', 'crop', 'fill', 'fillmax', 'max', 'scale', 'min']\nconst validCrops = ['top', 'bottom', 'left', 'right', 'center', 'focalpoint', 'entropy']\n\nclass ImageUrlBuilder {\n  constructor(parent, options) {\n    if (parent) {\n      this.options = {...(parent.options || {}), ...(options || {})}\n    } else {\n      this.options = options || {}\n    }\n  }\n\n  withOptions(options) {\n    return new ImageUrlBuilder(this, options)\n  }\n\n  // The image to be represented. Accepts a Sanity 'image'-document, 'asset'-document or\n  // _id of asset. To get the benefit of automatic hot-spot/crop integration with the content\n  // studio, the 'image'-document must be provided.\n  image(source) {\n    return this.withOptions({source})\n  }\n\n  // Specify the dataset\n  dataset(dataset) {\n    return this.withOptions({dataset})\n  }\n\n  // Specify the projectId\n  projectId(projectId) {\n    return this.withOptions({projectId})\n  }\n\n  // Specify background color\n  bg(bg) {\n    return this.withOptions({bg})\n  }\n\n  // Specify the width of the image in pixels\n  width(width) {\n    return this.withOptions({width})\n  }\n\n  // Specify the height of the image in pixels\n  height(height) {\n    return this.withOptions({height})\n  }\n\n  // Specify focal point in fraction of image dimensions. Each component 0.0-1.0\n  focalPoint(x, y) {\n    return this.withOptions({focalPoint: {x, y}})\n  }\n\n  maxWidth(maxWidth) {\n    return this.withOptions({maxWidth})\n  }\n\n  minWidth(minWidth) {\n    return this.withOptions({minWidth})\n  }\n\n  maxHeight(maxHeight) {\n    return this.withOptions({maxHeight})\n  }\n\n  minHeight(minHeight) {\n    return this.withOptions({minHeight})\n  }\n\n  // Specify width and height in pixels\n  size(width, height) {\n    return this.withOptions({width, height})\n  }\n\n  // Specify blur between 0 and 100\n  blur(blur) {\n    return this.withOptions({blur})\n  }\n\n  sharpen(sharpen) {\n    return this.withOptions({sharpen})\n  }\n\n  // Specify the desired rectangle of the image\n  rect(left, top, width, height) {\n    return this.withOptions({rect: {left, top, width, height}})\n  }\n\n  // Specify the image format of the image. 'jpg', 'pjpg', 'png', 'webp'\n  format(format) {\n    return this.withOptions({format})\n  }\n\n  invert(invert) {\n    return this.withOptions({invert})\n  }\n\n  // Rotation in degrees 0, 90, 180, 270\n  orientation(orientation) {\n    return this.withOptions({orientation})\n  }\n\n  // Compression quality 0-100\n  quality(quality) {\n    return this.withOptions({quality})\n  }\n\n  // Make it a download link. Parameter is default filename.\n  forceDownload(download) {\n    return this.withOptions({download})\n  }\n\n  // Flip image horizontally\n  flipHorizontal() {\n    return this.withOptions({flipHorizontal: true})\n  }\n\n  // Flip image verically\n  flipVertical() {\n    return this.withOptions({flipVertical: true})\n  }\n\n  // Ignore crop/hotspot from image record, even when present\n  ignoreImageParams() {\n    return this.withOptions({ignoreImageParams: true})\n  }\n\n  fit(value) {\n    if (validFits.indexOf(value) === -1) {\n      throw new Error(`Invalid fit mode \"${value}\"`)\n    }\n\n    return this.withOptions({fit: value})\n  }\n\n  crop(value) {\n    if (validCrops.indexOf(value) === -1) {\n      throw new Error(`Invalid crop mode \"${value}\"`)\n    }\n\n    return this.withOptions({crop: value})\n  }\n\n  // Gets the url based on the submitted parameters\n  url() {\n    return urlForImage(this.options)\n  }\n\n  // Synonym for url()\n  toString() {\n    return this.url()\n  }\n}\n\nexport default function urlBuilder(options) {\n  // Did we get a SanityClient?\n  if (options && typeof options.clientConfig === 'object') {\n    // Inherit config from client\n    return new ImageUrlBuilder(null, {\n      baseUrl: options.clientConfig.apiHost.replace(/^https:\\/\\/api\\./, 'https://cdn.'),\n      projectId: options.clientConfig.projectId,\n      dataset: options.clientConfig.dataset\n    })\n  }\n\n  // Or just accept the options as given\n  return new ImageUrlBuilder(null, options)\n}\n","// eslint-disable-next-line import/no-commonjs\nmodule.exports = require('./lib/builder').default\n","import SanityClient from '@sanity/client'\nimport ImageUrlBuilder from '@sanity/image-url'\n\nconst NERDNIGHT = '98555641-f6f9-45ac-9066-6415908c2151'\nconst TIMEOUT = 6000\nconst slide = document.getElementById('slide')\n\nconst client = new SanityClient({\n  projectId: 'mx0t3s2w',\n  dataset: 'production',\n  useCdn: true\n})\n\nconst builder = new ImageUrlBuilder(client)\n\nlet images = []\nlet index = 0\nlet timer = null\n\nclient.getDocument(NERDNIGHT)\n  .then(exhibition => {\n    images = exhibition.images\n    timer = setInterval(displaySlide, TIMEOUT)\n  })\n  .catch(error => console.error(error))\n\nfunction displaySlide() {\n  slide.src = builder.image(images[index])\n  index++\n  if (index > images.length) {\n    clearInterval(timer)\n    location.reload()\n  }\n}"]}